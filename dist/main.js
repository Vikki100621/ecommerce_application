(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var s=n.getElementsByTagName("script");if(s.length)for(var r=s.length-1;r>-1&&!t;)t=s[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{app;routes;id;constructor(e){this.app=e,this.id=null,this.routes=[{path:"/",template:"home"},{path:"/catalog",template:"catalog"},{path:"/delivery",template:"delivery"},{path:"/about",template:"about"},{path:"/contacts",template:"contacts"},{path:"/login",template:"login"},{path:"/register",template:"register"},{path:"/user",template:"user"},{path:"/logout",template:"log"},{path:`/catalog/${this.id}`,template:"product"}],this.updateIdRoutes()}registerTemplates(){this.routes.forEach((({template:e,path:t})=>{this.app.registerTemplate(e,this.getTemplateFunctionForPath(t))}))}getTemplateFunctionForPath(e){switch(e){case"/":return()=>this.app.showHomePage();case"/catalog":return()=>this.app.showCatalogPage();case"/delivery":return()=>this.app.showDeliveryPage();case"/about":return()=>this.app.showAboutPage();case"/contacts":return()=>this.app.showContactsPage();case"/login":return()=>this.app.showSignInPage();case"/register":return()=>this.app.showRegisterPage();case"/user":return()=>this.app.showUserPage();case`/catalog/${this.id}`:return()=>this.app.showProductPage();default:return()=>this.app.showHomePage()}}updateIdRoutes(){if(null!==this.id){const e=this.routes.findIndex((e=>"product"===e.template));-1!==e&&(this.routes[e].path=`/catalog/allproducts/${this.id}`)}}updateId(e){this.id=e,this.updateIdRoutes()}init(){this.registerTemplates();const e=()=>{"true"!==localStorage.getItem("isLoggedIn")||"#/login"!==window.location.hash&&"#/register"!==window.location.hash?this.router():window.location.hash="/"};window.addEventListener("load",e),window.addEventListener("hashchange",e)}router(){const e=window.location.hash.slice(1)||"/";this.resolveRoute(e)()}resolveRoute(e){try{const t=this.routes.find((t=>t.path===e))?.template;return this.app.getTemplateFunction(t)}catch(t){throw this.app.show404Page(),new Error(`Route ${e} not found`)}}handleMenuItemClick(e,t){const n=t.target;if(n.classList.contains("register"))if("LogOut"===n.textContent){localStorage.setItem("isLoggedIn","false"),window.location.hash="/";const e=document.querySelector(".item-client .login"),t=document.querySelector(".item-client .register");e&&t&&(e.textContent="Login",t.textContent="Register")}else"true"===localStorage.getItem("isLoggedIn")&&localStorage.getItem("isLoggedIn")||(window.location.hash="/register");else if(n.classList.contains("login"))"true"===localStorage.getItem("isLoggedIn")&&localStorage.getItem("isLoggedIn")?window.location.hash="/user":window.location.hash="/login";else{const t=this.routes[e].path;window.location.hash=t}}handleProductItemClick(e){const t=e.target,{parentElement:n}=t;if(n&&n.hasAttribute("id")){this.id=n.getAttribute("id"),this.updateId(n.getAttribute("id"));const e=this.routes[9].path;window.location.hash=e}}}const n={title:"Antique Shop",menuItems:["Home","Catalog","Delivery","About Us","Contacts"],login:"LogIn",register:"Register",logout:"LogOut",profile:"Profile",welcome:"Welcome to our antique store! Here, you will find unique historical treasures that transport us to bygone eras. Our exhibits are not just items; they are real stories, the breath of the past, which we respectfully preserve and offer for you to acquire. We offer antiques from various epochs and styles: the precious gems of the Victorian era, exquisite Renaissance art pieces, and extraordinary artifacts from ancient civilizations. We take pride in our collection, and each item has been carefully selected with a love for history. Our team of experts is ready to share insights about each object and its fascinating history. Immerse yourself in the atmosphere of the past, feel the magic of time, and choose your unique piece of history that will not only adorn your home but also become a valuable legacy for future generations. We invite you to embark on an exciting journey through the ages with us!",footer:{contactInfo:{contactTitle:"CONTACT INFORMATION",contactContent:"We are located at: 15 Nevskogo St, St. Petersburg. Tel.: +7 (916) 432 44-44"},socialInfo:{socialTitle:"FIND US ON SOCIAL MEDIA",socialContent:""},questions:{questionstitle:"Mail for your questions",questionsemail:'<a href="mailto:kruckovaviktoria421@gmail.com">kruckovaviktoria421@gmail.com</a>'}},collection:'We present a new collection - "Treasures of the Royal France." Porcelain cups and mugs adorned with royal coats of arms and symbols are designed to evoke the nobility and power of the royal dynasty. The breathtaking elegance and uniqueness of each piece make them not only tableware items but also genuine works of art.'},s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfnCAcUHziURU9OAAAJRElEQVRo3u1Ye1RVZRb/7XMvCD5QIZfyStSgEkwQEFBZejEUxXTxkDWmiVFqvpfZrIlEQ9IY8/2YLFBHpxwlzJlMBDHO9UEIKYlyr096MN4LFxUPYTzkcs+evw7M4uZMeilWa/r9c8737W/v/e3f2Xt/Z33A7/j/BikvxnE6J233d9+FCmcwfMUK3g81r7O3f6imATqIzNDjzygtKDA915zplDZ5clBwUHBQsNnc1YH9XAjKC8+Elj9esoR7C9nCGj8/Dw8/v4gIIuWprFPG7iFXhLvP2dmhDClwdnBwzXQw/5ATFdXVAT0q1MoLLafr+G77doTI0+XDOp3BoJshitYZYIzXx4v36uqqXRBEmsREyubZ7Hf0KBfSRQpWCPj8864O7BdDlX15csHIyEjDOt1kbe/S0lubLqecXjRsmHG07gdRX1HR1ft7VAiPquD64GpA7RuiiJmI4RsDB7LJ3qvlYG0t74SAP9nbG2KvrDyd7+3d1YH9XNDjKhrydX3FiqwsyqDxNCQ3l+sxgc+Fh2Mvj0JzUlJXB/ZQvE2pwPz5Hnt8D0dEZGQ8th1jhv5LUf3yywoRxqDyP4hpCQmGB/p4ccexY1bre+q9tE9culRVdfmyKAYGWsnn6YrE3dXVlROuOp7Z7OraUX5rU9n7Bfvc3Y1DdfO0zxiN1nJ9fMG+kSMNh3Sp4uCvv7ayH6l7VRt9/LixQB8vzpw6VZl/5BJQ0DIXW8icm4vncYLinn+eAuzH0SpRxHz2pH3h4d/xd6xlBwdlPWs5m2MuXrTUCYdIExDQ0R6/gjpcNZnUH/JQ1g4YYCU3qdyERFdXDqN7/H51dUe5UMkjaGhQEImYQA4XLlhteBCSOCYgQC4zR3BkaanNBAwi38MaMpnwCY7z/cpK3mZW8e2nn8Z0OozLOl23bj++JYeEh7cpFKGIY8rKKAUTONLfv6M9SsERulZdzSsQZWmyzgBVlPAxz3JzQxSvo/VVVVYEXaMn0BoYyBHUjJHtARrfKb95JsjTk1XwRxSR5wr/hePntGfQY/eANgc99X8XN61bxxdwBGuYqQBAbUsLT+NUnF2zxlb7nQUajVgEHD/uXul3I6JvdLQy/9gZ0GZ4Bo7Q67m5+JQbiSZNkpsBPpCXR+/hKHrq9cqPk+Olbh80e/TujQycR/b9++7uvr6nNSqVIqdZGEVT0tNRzm4IWrnS6kcsFmkoTEujKrpCp1JTlXmzew9f0jg6oo7i6M3GRmXcpqelYVS4di33hz92WJeGzQS4ZugT7mSfO6cci4A5AjAa2ZX+Skn9+lXN1cefzH/ySZdo752TferrqYLWUu6dO1Viea+xs9qPS77EJ/i8yUQtNJr8rHsAzaI8Xuzmxh/iEx7X3gPsnJs8+Mrw4dDxDL57/fogGkQaam5u0/sbv4KSwEBKJxnX20uj8zKAEhISEiwWqJBH00VROGcnComRkdSfX+OsL76Q83inavbEif/hsZ7PlpWhiC5SdXsvoCHYhk9NJh6BofD6iSY4HxPogKsrZXEladp7AL0kL0JDYCDdps18wTpAjqDTqAwM7Nj82vRtJUCBciyyF0/BtagoOGIminJyMAivwWP//s7y88hYh8Hwqanx2OXXPcLDmlibM0BBx2PR8o5qj/ruyZMUR7G4XVdnqm5ucuplb48LfJ7mTZmCpRSJkPz8tlpdKhxUtfr4UChu43xFRcceQGmox7cmkyVJFawuc3Nr0+uG/rC/dEnexhWkCQ5W5oU1wjbSxMTQcfijh/WXV6B+lCD/G5Rj0XBI5ycOrqy0GyhHW5YPGSLLALTffOOW4RBTP0ejae3DO+lmTY0Qh9GYFRBQ5aKHlseM4UVypQwPD1bTAkpxczOs1g3TLlq2jN6kVXDp04fPYTMn9uunDrWsbb2xcaNho/49MdjJCe8hHD/6+grz4Q/PAweM5br3xbhevfigXMnH+vZlMy7TmdRUAA4/te9OKwEFhtn6j7TrN2yAF3rw9/fu4Xs0kJezMx1hHQ9dvBhjMBD7JImd8RR9KUkIgS9/IEnQ0AiskySahnBiSUISovlNSZJT5DkcJ0kUR88JiyUJyzGWQySJPsKL/K0kEdNm4W1JatWTzO9IEkYLky1bJYkGSG/3dJQkzxVhxjBjU9PD9tvpBNzici7g1NSHyT1pGI2nh8t/bXRaD/it4pfPgEvCCQqvraUn2ANp27d3WaAr8SzyzGZUoi/t3LjR/ZRfvabxrbc63ZFCwP8qhV8byj2FIVNXKh65f7+NmM5yYOx5dccX+1xcAMtU1dHsbL6G+7xYo+nqwNtQgkO0WpbhS9f4cnq6xzO+hyPqU1JsPgb18fr4T7Ls7TnAkqual59PMvXkPYWFliRhobps5kxlnXqRxcuyNTkZ/4QWY0NDqxc23+q1dPRoW2+RDWN0ZdqwuDgEYwsnbNxIF+kDWvnqq6rk1hTzkOJiyx27wXaXw8K4Vu7He3fv5u/l8VxUWgrgMOZ0QhN0CpMXuTRFR6MQz2JiQ4PcHTkUt2OHusFiap149qzy5P1CrLB7xw72h4XjWlpc6x3X12+dNMnmL/sPuPOGVauUwAHuD4wf3yqr0tVf1tTgNe7LmzUa4Y9s4llz59IYaqLy1asVdZsJEBZQBU3y9kYUslj/1VfCSSRi+bRpGIUZyCguxivYDZSUUD5ft3i/8AJGIB31JSUoktN5mY+PzQTY0QJk+/jYLcBLaCgpUa73kSmsQWxCAr/OD1CxZIn9RLsh3XKKi9GDltPZdr82EyDv4qc49+ZNVGAr/ENC5Ejsx5bPPsNBvAG3kBCeDcb84GB5DUBeR4/iayTDKSQEo4Rk2nbjhs0EmHkXpt+4YTaTBggNbbvenyTHYmFWFl6kHBzYvr3lhPmbB9GhoWjgLRze7tdmAurPCX+pdczJwQDspWPduwtPsR4Dly61zFB/a1k/dqycrO5juTJuHO3kQdi6bBnVUxhOdutWtwu4OzUvz1b/bEYistPSuFT+irdmZlKLXM5Zp07ZO1E6xbi6Cpu4GJ5nzsgbaAB9nJnJhezIw9LSbCa+I25t0sfn/cvZ2bBCN1Y7fO9eQ7reW+tXU2NYoGsUDSaTYYI+Qyzas0dZ19n+lWZouKO7IxaWlRnq9PHissZGZXyrSjdZXBYb2+mB/47fOP4Na+VumHstvJUAAAAASUVORK5CYII=";function r(){const e=document.getElementById("email"),t=document.getElementById("emailError");e instanceof HTMLInputElement&&t&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)?(e.classList.remove("invalid"),t.innerHTML=""):(e.classList.add("invalid"),t.innerHTML="Email address must be properly formatted (e.g., user@example.com."))}function o(){const e=document.getElementById("password"),t=document.getElementById("passwordError");e instanceof HTMLInputElement&&t&&(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?!.*\s).{8,}$/.test(e.value)?(e.classList.remove("invalid"),t.innerHTML=""):(e.classList.add("invalid"),t.innerHTML="Password must contain at least 8 characters, at least one uppercase letter (A-Z) and one lowercase letter (a-z), one digit (0-9) and must not contain leading or trailing whitespace."))}class a{element;constructor(e){this.element=document.createElement(e.tag),this.addAttributes(e)}getElement(){return this.element}addInnerElement(e){e.forEach((e=>{e instanceof a?this.element.append(e.getElement()):this.element.append(e)}))}addAttributes(e){void 0!==e.classNames&&this.setCssClasses(e.classNames),void 0!==e.textContent&&this.setTextContent(e.textContent),void 0!==e.callback&&void 0!==e.event&&this.setCallback(e.event,e.callback),void 0!==e.attributes&&this.setAttributes(e.attributes)}setCssClasses(e){this.element.classList.add(...e)}setTextContent(e){this.element instanceof HTMLInputElement?this.element.value=e:this.element.textContent=e}setCallback(e,t){this.element.addEventListener(e,(e=>t(e)))}setAttributes(e){Object.keys(e).forEach((t=>{this.element.setAttribute(t,e[t])}))}}class i extends a{inputElement;labelElement;constructor(e){super(e),this.inputElement=document.createElement("input"),this.labelElement=document.createElement("label"),this.addInputAndLabel(e)}addAttributes(e){void 0!==e.classNames&&this.setCssClasses(e.classNames)}addInputAndLabel(e){void 0!==e.textContent&&this.setTextContent(e.textContent),void 0!==e.attributes&&this.setInputAttributes(e.attributes),e.attributes?.name&&this.setLabelAttributes(e.attributes.name),void 0!==e.callback&&void 0!==e.event&&this.setCallback(e.event,e.callback),this.element.append(this.labelElement,this.inputElement)}setTextContent(e){this.labelElement.textContent=e}setInputAttributes(e){Object.keys(e).forEach((t=>{this.inputElement.setAttribute(t,e[t])}))}setLabelAttributes(e){this.labelElement.setAttribute("for",e)}setCallback(e,t){this.inputElement.addEventListener(e,(e=>t(e)))}}class c{viewElement;constructor(e){this.viewElement=this.createView(e)}getHtmlElement(){return this.viewElement.getElement()}createView(e){return this.viewElement=new a(e),this.viewElement}}function l(e,t){return function(){return e.apply(t,arguments)}}const{toString:d}=Object.prototype,{getPrototypeOf:u}=Object,m=(p=Object.create(null),e=>{const t=d.call(e);return p[t]||(p[t]=t.slice(8,-1).toLowerCase())});var p;const h=e=>(e=e.toLowerCase(),t=>m(t)===e),f=e=>t=>typeof t===e,{isArray:g}=Array,w=f("undefined"),b=h("ArrayBuffer"),y=f("string"),E=f("function"),v=f("number"),A=e=>null!==e&&"object"==typeof e,C=e=>{if("object"!==m(e))return!1;const t=u(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},S=h("Date"),L=h("File"),_=h("Blob"),k=h("FileList"),x=h("URLSearchParams");function N(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let s,r;if("object"!=typeof e&&(e=[e]),g(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(s=0;s<o;s++)a=r[s],t.call(null,e[a],a,e)}}function P(e,t){t=t.toLowerCase();const n=Object.keys(e);let s,r=n.length;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,B=e=>!w(e)&&e!==T,O=(R="undefined"!=typeof Uint8Array&&u(Uint8Array),e=>R&&e instanceof R);var R;const I=h("HTMLFormElement"),D=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),q=h("RegExp"),U=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};N(n,((n,r)=>{let o;!1!==(o=t(n,r,e))&&(s[r]=o||n)})),Object.defineProperties(e,s)},j="abcdefghijklmnopqrstuvwxyz",H="0123456789",F={DIGIT:H,ALPHA:j,ALPHA_DIGIT:j+j.toUpperCase()+H},M=h("AsyncFunction"),z={isArray:g,isArrayBuffer:b,isBuffer:function(e){return null!==e&&!w(e)&&null!==e.constructor&&!w(e.constructor)&&E(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||E(e.append)&&("formdata"===(t=m(e))||"object"===t&&E(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&b(e.buffer),t},isString:y,isNumber:v,isBoolean:e=>!0===e||!1===e,isObject:A,isPlainObject:C,isUndefined:w,isDate:S,isFile:L,isBlob:_,isRegExp:q,isFunction:E,isStream:e=>A(e)&&E(e.pipe),isURLSearchParams:x,isTypedArray:O,isFileList:k,forEach:N,merge:function e(){const{caseless:t}=B(this)&&this||{},n={},s=(s,r)=>{const o=t&&P(n,r)||r;C(n[o])&&C(s)?n[o]=e(n[o],s):C(s)?n[o]=e({},s):g(s)?n[o]=s.slice():n[o]=s};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&N(arguments[e],s);return n},extend:(e,t,n,{allOwnKeys:s}={})=>(N(t,((t,s)=>{n&&E(t)?e[s]=l(t,n):e[s]=t}),{allOwnKeys:s}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,s)=>{let r,o,a;const i={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)a=r[o],s&&!s(a,e,t)||i[a]||(t[a]=e[a],i[a]=!0);e=!1!==n&&u(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:m,kindOfTest:h,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return-1!==s&&s===n},toArray:e=>{if(!e)return null;if(g(e))return e;let t=e.length;if(!v(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const n=s.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const s=[];for(;null!==(n=e.exec(t));)s.push(n);return s},isHTMLForm:I,hasOwnProperty:D,hasOwnProp:D,reduceDescriptors:U,freezeMethods:e=>{U(e,((t,n)=>{if(E(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const s=e[n];E(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},s=e=>{e.forEach((e=>{n[e]=!0}))};return g(e)?s(e):s(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:P,global:T,isContextDefined:B,ALPHABET:F,generateString:(e=16,t=F.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n},isSpecCompliantForm:function(e){return!!(e&&E(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,s)=>{if(A(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[s]=e;const r=g(e)?[]:{};return N(e,((e,t)=>{const o=n(e,s+1);!w(o)&&(r[t]=o)})),t[s]=void 0,r}}return e};return n(e,0)},isAsyncFn:M,isThenable:e=>e&&(A(e)||E(e))&&E(e.then)&&E(e.catch)};function V(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}z.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const J=V.prototype,W={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{W[e]={value:e}})),Object.defineProperties(V,W),Object.defineProperty(J,"isAxiosError",{value:!0}),V.from=(e,t,n,s,r,o)=>{const a=Object.create(J);return z.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),V.call(a,e.message,t,n,s,r),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const G=V;function Q(e){return z.isPlainObject(e)||z.isArray(e)}function Y(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function Z(e,t,n){return e?e.concat(t).map((function(e,t){return e=Y(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const X=z.toFlatObject(z,{},null,(function(e){return/^is[A-Z]/.test(e)})),K=function(e,t,n){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!z.isUndefined(t[e])}))).metaTokens,r=n.visitor||l,o=n.dots,a=n.indexes,i=(n.Blob||"undefined"!=typeof Blob&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(r))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(z.isDate(e))return e.toISOString();if(!i&&z.isBlob(e))throw new G("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(e)||z.isTypedArray(e)?i&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){let i=e;if(e&&!r&&"object"==typeof e)if(z.endsWith(n,"{}"))n=s?n:n.slice(0,-2),e=JSON.stringify(e);else if(z.isArray(e)&&function(e){return z.isArray(e)&&!e.some(Q)}(e)||(z.isFileList(e)||z.endsWith(n,"[]"))&&(i=z.toArray(e)))return n=Y(n),i.forEach((function(e,s){!z.isUndefined(e)&&null!==e&&t.append(!0===a?Z([n],s,o):null===a?n:n+"[]",c(e))})),!1;return!!Q(e)||(t.append(Z(r,n,o),c(e)),!1)}const d=[],u=Object.assign(X,{defaultVisitor:l,convertValue:c,isVisitable:Q});if(!z.isObject(e))throw new TypeError("data must be an object");return function e(n,s){if(!z.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+s.join("."));d.push(n),z.forEach(n,(function(n,o){!0===(!(z.isUndefined(n)||null===n)&&r.call(t,n,z.isString(o)?o.trim():o,s,u))&&e(n,s?s.concat(o):[o])})),d.pop()}}(e),t};function $(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ee(e,t){this._pairs=[],e&&K(e,this,t)}const te=ee.prototype;te.append=function(e,t){this._pairs.push([e,t])},te.toString=function(e){const t=e?function(t){return e.call(this,t,$)}:$;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ne=ee;function se(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function re(e,t,n){if(!t)return e;const s=n&&n.encode||se,r=n&&n.serialize;let o;if(o=r?r(t,n):z.isURLSearchParams(t)?t.toString():new ne(t,n).toString(s),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const oe=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ae={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ie={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ne,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},ce=function(e){function t(e,n,s,r){let o=e[r++];const a=Number.isFinite(+o),i=r>=e.length;return o=!o&&z.isArray(s)?s.length:o,i?(z.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):(s[o]&&z.isObject(s[o])||(s[o]=[]),t(e,n,s[o],r)&&z.isArray(s[o])&&(s[o]=function(e){const t={},n=Object.keys(e);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],t[o]=e[o];return t}(s[o])),!a)}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,((e,s)=>{t(function(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),s,n,0)})),n}return null},le={transitional:ae,adapter:ie.isNode?"http":"xhr",transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,r=z.isObject(e);if(r&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return s&&s?JSON.stringify(ce(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return K(e,new ie.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,s){return ie.isNode&&z.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=z.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return K(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),function(e,t,n){if(z.isString(e))try{return(0,JSON.parse)(e),z.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||le.transitional,n=t&&t.forcedJSONParsing,s="json"===this.responseType;if(e&&z.isString(e)&&(n&&!this.responseType||s)){const n=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw G.from(e,G.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ie.classes.FormData,Blob:ie.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],(e=>{le.headers[e]={}}));const de=le,ue=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),me=Symbol("internals");function pe(e){return e&&String(e).trim().toLowerCase()}function he(e){return!1===e||null==e?e:z.isArray(e)?e.map(he):String(e)}function fe(e,t,n,s,r){return z.isFunction(s)?s.call(this,t,n):(r&&(t=n),z.isString(t)?z.isString(s)?-1!==t.indexOf(s):z.isRegExp(s)?s.test(t):void 0:void 0)}class ge{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function r(e,t,n){const r=pe(t);if(!r)throw new Error("header name must be a non-empty string");const o=z.findKey(s,r);(!o||void 0===s[o]||!0===n||void 0===n&&!1!==s[o])&&(s[o||t]=he(e))}const o=(e,t)=>z.forEach(e,((e,n)=>r(e,n,t)));return z.isPlainObject(e)||e instanceof this.constructor?o(e,t):z.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,s,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),s=e.substring(r+1).trim(),!n||t[n]&&ue[n]||("set-cookie"===n?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)})),t})(e),t):null!=e&&r(t,e,n),this}get(e,t){if(e=pe(e)){const n=z.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}(e);if(z.isFunction(t))return t.call(this,e,n);if(z.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pe(e)){const n=z.findKey(this,e);return!(!n||void 0===this[n]||t&&!fe(0,this[n],n,t))}return!1}delete(e,t){const n=this;let s=!1;function r(e){if(e=pe(e)){const r=z.findKey(n,e);!r||t&&!fe(0,n[r],r,t)||(delete n[r],s=!0)}}return z.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const r=t[n];e&&!fe(0,this[r],r,e,!0)||(delete this[r],s=!0)}return s}normalize(e){const t=this,n={};return z.forEach(this,((s,r)=>{const o=z.findKey(n,r);if(o)return t[o]=he(s),void delete t[r];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();a!==r&&delete t[r],t[a]=he(s),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return z.forEach(this,((n,s)=>{null!=n&&!1!==n&&(t[s]=e&&z.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[me]=this[me]={accessors:{}}).accessors,n=this.prototype;function s(e){const s=pe(e);t[s]||(function(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach((s=>{Object.defineProperty(e,s+n,{value:function(e,n,r){return this[s].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[s]=!0)}return z.isArray(e)?e.forEach(s):s(e),this}}ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),z.reduceDescriptors(ge.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),z.freezeMethods(ge);const we=ge;function be(e,t){const n=this||de,s=t||n,r=we.from(s.headers);let o=s.data;return z.forEach(e,(function(e){o=e.call(n,o,r.normalize(),t?t.status:void 0)})),r.normalize(),o}function ye(e){return!(!e||!e.__CANCEL__)}function Ee(e,t,n){G.call(this,null==e?"canceled":e,G.ERR_CANCELED,t,n),this.name="CanceledError"}z.inherits(Ee,G,{__CANCEL__:!0});const ve=Ee,Ae=ie.isStandardBrowserEnv?{write:function(e,t,n,s,r,o){const a=[];a.push(e+"="+encodeURIComponent(t)),z.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),z.isString(s)&&a.push("path="+s),z.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Ce(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Se=ie.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function s(n){let s=n;return e&&(t.setAttribute("href",s),s=t.href),t.setAttribute("href",s),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=s(window.location.href),function(e){const t=z.isString(e)?s(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Le(e,t){let n=0;const s=function(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r,o=0,a=0;return t=void 0!==t?t:1e3,function(i){const c=Date.now(),l=s[a];r||(r=c),n[o]=i,s[o]=c;let d=a,u=0;for(;d!==o;)u+=n[d++],d%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-r<t)return;const m=l&&c-l;return m?Math.round(1e3*u/m):void 0}}(50,250);return r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,i=o-n,c=s(i);n=o;const l={loaded:o,total:a,progress:a?o/a:void 0,bytes:i,rate:c||void 0,estimated:c&&a&&o<=a?(a-o)/c:void 0,event:r};l[t?"download":"upload"]=!0,e(l)}}const _e={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let s=e.data;const r=we.from(e.headers).normalize(),o=e.responseType;let a;function i(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}z.isFormData(s)&&(ie.isStandardBrowserEnv||ie.isStandardBrowserWebWorkerEnv?r.setContentType(!1):r.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+n))}const l=Ce(e.baseURL,e.url);function d(){if(!c)return;const s=we.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){const s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(new G("Request failed with status code "+n.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),i()}),(function(e){n(e),i()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:s,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),re(l,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(d)},c.onabort=function(){c&&(n(new G("Request aborted",G.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new G("Network Error",G.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const s=e.transitional||ae;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new G(t,s.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,e,c)),c=null},ie.isStandardBrowserEnv){const t=(e.withCredentials||Se(l))&&e.xsrfCookieName&&Ae.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===s&&r.setContentType(null),"setRequestHeader"in c&&z.forEach(r.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),z.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&"json"!==o&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",Le(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Le(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{c&&(n(!t||t.type?new ve(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const u=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(l);u&&-1===ie.protocols.indexOf(u)?n(new G("Unsupported protocol "+u+":",G.ERR_BAD_REQUEST,e)):c.send(s||null)}))}};z.forEach(_e,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const ke=e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let n,s;for(let r=0;r<t&&(n=e[r],!(s=z.isString(n)?_e[n.toLowerCase()]:n));r++);if(!s){if(!1===s)throw new G(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(z.hasOwnProp(_e,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!z.isFunction(s))throw new TypeError("adapter is not a function");return s};function xe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ve(null,e)}function Ne(e){return xe(e),e.headers=we.from(e.headers),e.data=be.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ke(e.adapter||de.adapter)(e).then((function(t){return xe(e),t.data=be.call(e,e.transformResponse,t),t.headers=we.from(t.headers),t}),(function(t){return ye(t)||(xe(e),t&&t.response&&(t.response.data=be.call(e,e.transformResponse,t.response),t.response.headers=we.from(t.response.headers))),Promise.reject(t)}))}const Pe=e=>e instanceof we?e.toJSON():e;function Te(e,t){t=t||{};const n={};function s(e,t,n){return z.isPlainObject(e)&&z.isPlainObject(t)?z.merge.call({caseless:n},e,t):z.isPlainObject(t)?z.merge({},t):z.isArray(t)?t.slice():t}function r(e,t,n){return z.isUndefined(t)?z.isUndefined(e)?void 0:s(void 0,e,n):s(e,t,n)}function o(e,t){if(!z.isUndefined(t))return s(void 0,t)}function a(e,t){return z.isUndefined(t)?z.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function i(n,r,o){return o in t?s(n,r):o in e?s(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:i,headers:(e,t)=>r(Pe(e),Pe(t),!0)};return z.forEach(Object.keys(Object.assign({},e,t)),(function(s){const o=c[s]||r,a=o(e[s],t[s],s);z.isUndefined(a)&&o!==i||(n[s]=a)})),n}const Be={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Be[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Oe={};Be.transitional=function(e,t,n){function s(e,t){return"[Axios v1.5.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,o)=>{if(!1===e)throw new G(s(r," has been removed"+(t?" in "+t:"")),G.ERR_DEPRECATED);return t&&!Oe[r]&&(Oe[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}};const Re={assertOptions:function(e,t,n){if("object"!=typeof e)throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const o=s[r],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new G("option "+o+" must be "+n,G.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new G("Unknown option "+o,G.ERR_BAD_OPTION)}},validators:Be},Ie=Re.validators;class De{constructor(e){this.defaults=e,this.interceptors={request:new oe,response:new oe}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Te(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:r}=t;void 0!==n&&Re.assertOptions(n,{silentJSONParsing:Ie.transitional(Ie.boolean),forcedJSONParsing:Ie.transitional(Ie.boolean),clarifyTimeoutError:Ie.transitional(Ie.boolean)},!1),null!=s&&(z.isFunction(s)?t.paramsSerializer={serialize:s}:Re.assertOptions(s,{encode:Ie.function,serialize:Ie.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&z.merge(r.common,r[t.method]);r&&z.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=we.concat(o,r);const a=[];let i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[Ne.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),d=e.length,l=Promise.resolve(t);u<d;)l=l.then(e[u++],e[u++]);return l}d=a.length;let m=t;for(u=0;u<d;){const e=a[u++],t=a[u++];try{m=e(m)}catch(e){t.call(this,e);break}}try{l=Ne.call(this,m)}catch(e){return Promise.reject(e)}for(u=0,d=c.length;u<d;)l=l.then(c[u++],c[u++]);return l}getUri(e){return re(Ce((e=Te(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],(function(e){De.prototype[e]=function(t,n){return this.request(Te(n||{},{method:e,url:t,data:(n||{}).data}))}})),z.forEach(["post","put","patch"],(function(e){function t(t){return function(n,s,r){return this.request(Te(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}De.prototype[e]=t(),De.prototype[e+"Form"]=t(!0)}));const qe=De;class Ue{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const s=new Promise((e=>{n.subscribe(e),t=e})).then(e);return s.cancel=function(){n.unsubscribe(t)},s},e((function(e,s,r){n.reason||(n.reason=new ve(e,s,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ue((function(t){e=t})),cancel:e}}}const je=Ue,He={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(He).forEach((([e,t])=>{He[t]=e}));const Fe=He,Me=function e(t){const n=new qe(t),s=l(qe.prototype.request,n);return z.extend(s,qe.prototype,n,{allOwnKeys:!0}),z.extend(s,n,null,{allOwnKeys:!0}),s.create=function(n){return e(Te(t,n))},s}(de);Me.Axios=qe,Me.CanceledError=ve,Me.CancelToken=je,Me.isCancel=ye,Me.VERSION="1.5.0",Me.toFormData=K,Me.AxiosError=G,Me.Cancel=Me.CanceledError,Me.all=function(e){return Promise.all(e)},Me.spread=function(e){return function(t){return e.apply(null,t)}},Me.isAxiosError=function(e){return z.isObject(e)&&!0===e.isAxiosError},Me.mergeConfig=Te,Me.AxiosHeaders=we,Me.formToJSON=e=>ce(z.isHTMLForm(e)?new FormData(e):e),Me.getAdapter=ke,Me.HttpStatusCode=Fe,Me.default=Me;const ze=Me,Ve="rs-school-ecommerce-application",Je="xnIExDv_L553zLUH71kjVzANZ_7bfwyn",We="n6NhHNp-SoFneLzkbs6qXWuu",Ge="https://auth.europe-west1.gcp.commercetools.com",Qe="https://api.europe-west1.gcp.commercetools.com",Ye="manage_project:rs-school-ecommerce-application";async function Ze(){const e={url:`${Ge}/oauth/token`,method:"post",params:{grant_type:"client_credentials",scope:Ye},auth:{username:We,password:Je}};return(await ze(e)).data.access_token}async function Xe(e,t){const n=(await Ze()).toString();return await ze.post(`${Qe}/${Ve}/customers/${e}`,t,{headers:{Authorization:`Bearer ${n}`}})}async function Ke(e,t){const n=(await Ze()).toString(),s=(await async function(e,t){const n={url:`${Ge}/oauth/${Ve}/customers/token`,method:"post",data:`grant_type=password&username=${e}&password=${t}&scope=${Ye}`,auth:{username:We,password:Je}};return(await ze(n)).data.refresh_token}(e,t)).toString();return localStorage.setItem("refresh_token",s),await ze.post(`${Qe}/${Ve}/me/login`,{email:e,password:t},{headers:{Authorization:`Bearer ${n}`}})}class $e{static customer=null;static password=null;static getCustomer(){return $e.customer}static setCustomer(e){$e.customer=e}static clearCustomer(){$e.customer=null}static setPassword(e){$e.password=e}static getPassword(){return $e.password}}function et(e,t){const n=document.createElement("div");n.classList.add("modal");const s=document.createElement("p"),r=document.createElement("p");n.append(s,r),200===t?(s.innerText="✔️Login successfully completed",r.innerText="Welcome"):(s.innerText=`❌${e}`,r.innerText="Incorrect email or password"),document.body.appendChild(n)}function tt(){const e=document.querySelector(".modal");e&&e.remove()}function nt(e){return document.getElementById(e).value}function st(e){const t=e.target,n=document.querySelector(".buttonsContainer"),s=document.querySelectorAll(".profile__infoBlock .readonly");t&&n&&(t.classList.add("hidden"),n.classList.remove("hidden"),s.forEach((e=>{e.removeAttribute("readonly"),e.classList.add("editMode")})))}function rt(){const e=$e.getCustomer(),t=document.querySelector(".firstName"),n=document.querySelector(".lastName"),s=document.querySelector(".dateOfBirth"),r=document.querySelector(".profile__edit"),o=document.querySelector(".buttonsContainer"),a=document.querySelectorAll(".profile__infoBlock .readonly"),i=document.querySelectorAll(".profile__infoBlock .errorSpan");if(e&&(t instanceof HTMLInputElement&&(t.value=e?.firstName),n instanceof HTMLInputElement&&(n.value=e?.lastName),s instanceof HTMLInputElement&&(s.value=e?.dateOfBirth)),r&&o){r.classList.remove("hidden"),o.classList.add("hidden"),a.forEach((e=>{e.setAttribute("readonly","true"),e.classList.remove("editMode")}));for(let e=0;e<i.length;e+=1)i[e].innerHTML="",a[e].classList.remove("invalid")}}function ot(){const e=$e.getCustomer(),t=document.querySelector(".firstName"),n=document.querySelector(".lastName"),s=document.querySelector(".dateOfBirth"),r=document.querySelector(".profile__edit"),o=document.querySelector(".buttonsContainer"),a=document.querySelectorAll(".profile__infoBlock .readonly");e&&(t instanceof HTMLInputElement&&(e.firstName=t.value),n instanceof HTMLInputElement&&(e.lastName=n.value),s instanceof HTMLInputElement&&(e.dateOfBirth=s.value),Xe(e.id,{version:Number(e.version),actions:[{action:"setFirstName",firstName:e.firstName},{action:"setLastName",lastName:e.lastName},{action:"setDateOfBirth",dateOfBirth:e.dateOfBirth}]}).then((e=>console.log("RESPONSE",e)))),r&&o&&(r.classList.remove("hidden"),o.classList.add("hidden"),a.forEach((e=>{e.setAttribute("readonly","true"),e.classList.remove("editMode")})))}const at={titleParametrs:{tag:"h3",classNames:["login__title"],textContent:"Login"},formParametrs:{tag:"form",classNames:["login__form"],event:"submit",callback:function(e){e.preventDefault();const t={email:nt("email"),password:nt("password")};Ke(t.email,t.password).then((e=>{$e.setCustomer(e.data.customer),$e.setPassword(t.password),localStorage.setItem("isLoggedIn","true"),window.location.hash="/";const n=document.querySelector(".item-client .login"),s=document.querySelector(".item-client .register");return n&&s&&(n.textContent="Profile",s.textContent="LogOut"),et("Login successfully completed",200),setTimeout(tt,3e3),t})).catch((e=>{et(`${e.message}`,e.code),setTimeout(tt,3e3)}))},attributes:{novalidate:""}},emailParametrs:{tag:"div",classNames:["input__container","email"],event:"input",callback:r,attributes:{type:"email",placeholder:"email",id:"email",name:"email"}},passwordParametrs:{tag:"div",classNames:["input__container","password"],event:"input",callback:o,attributes:{type:"password",placeholder:"password",id:"password",name:"password"}},buttonParametrs:{tag:"button",classNames:["login__button"],textContent:"Sign in",attributes:{type:"submit"}},registationLinkParametrs:{tag:"a",classNames:["login__link","link_to_register"],textContent:"Register now",attributes:{href:"#/register"}},showPasswordImgParametrs:{tag:"div",classNames:["closePassword"],event:"click",callback:function(){const e=document.getElementById("password"),t=document.querySelector(".closePassword");e instanceof HTMLInputElement&&t&&("password"===e.type?(e.type="text",t.classList.add("openPassword")):(e.type="password",t.classList.remove("openPassword")))}},emailError:{tag:"span",classNames:["emailError"],attributes:{id:"emailError"}},passwordError:{tag:"span",classNames:["passwordError"],attributes:{id:"passwordError"}},loginError:{tag:"span",classNames:["loginError"],attributes:{id:"loginError"}}};class it extends c{constructor(){super({tag:"div",classNames:["login__section"]}),this.configureView()}configureView(){const e=new a(at.titleParametrs),t=new a(at.formParametrs),n=new i(at.emailParametrs),s=new a(at.emailError),r=new i(at.passwordParametrs),o=new a(at.passwordError),c=new a(at.showPasswordImgParametrs);r.addInnerElement([c]);const l=new a(at.buttonParametrs);t.addInnerElement([n,s,r,o,l]);const d=new a(at.registationLinkParametrs),u=new a(at.loginError);this.viewElement.addInnerElement([e,t,d,u])}}class ct{main;constructor(){this.main=document.getElementById("main")}draw(){this.main.innerHTML='\n    <section class="registration">\n      <h2 class="registration__title">Registration</h2>\n      <form class="registration__form reg-form">\n        <fieldset class="reg-form__user fieldset">\n          <legend class="fieldset__legend">User</legend>\n          <label class="reg-form__label" for="email">E-mail</label>\n          <input class="reg-form__input" type="email" name="email" id="email">\n          <p class="error"></p>\n          <label class="reg-form__label" for="pass">Password</label>\n          <input class="reg-form__input" type="password" name="pass" id="pass">\n          <p class="error"></p>\n        </fieldset>\n        <fieldset class="reg-form__person fieldset">\n          <legend class="fieldset__legend">Person</legend>\n          <label class="reg-form__label" for="fname">First name</label>\n          <input type="text" name="fname" id="fname">\n          <p class="error"></p>\n          <label class="reg-form__label" for="lname">Last name</label>\n          <input type="text" name="lname" id="lname">\n          <p class="error"></p>\n          <label class="reg-form__label" for="bdate">Birthday</label>\n          <input type="date" name="bdate" id="bdate">\n          <p class="error"></p>\n        </fieldset>\n        <div class="reg-form__address-wrap">\n        </div>\n        <input class="reg-form__addAddrr" type="button" value="Add address">\n        <input id="submit" type="submit" value="Submit">\n        <p class="error"></p>\n      </form>\n      <a href="#/login" class="button-link">I already have a login</a>\n    </section>\n    <div class="message">\n    </div>'}returnRegistrationForm(){return this.main.querySelector(".reg-form")}addAddressListener(){const e=this.main.querySelector(".reg-form__addAddrr"),t=this.main.querySelector(".reg-form__address-wrap");function n(){const e=document.querySelectorAll(".reg-form__address").length,n=document.createElement("fieldset");n.setAttribute("id",`address-${e}`),n.classList.add("reg-form__address","fieldset"),n.innerHTML=`\n      <legend class="fieldset__legend">Address</legend>\n            <label class="reg-form__label" for="street-${e}">Street</label>\n            <input type="text" name="street" id="street-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" for="city-${e}">City</label>\n            <input type="text" name="city" id="city-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" for="pcode-${e}">Postal code</label>\n            <input type="text" name="pcode" id="pcode-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" for="country-${e}">Country</label>\n            <input type="text" name="country" id="country-${e}" value="US" disabled>\n            <p class="error"></p>\n            <div class="check-box">\n            <label class="reg-form__label" for="baddress-${e}">Billing Address</label>\n            <input type="checkbox" name="baddress" id="baddress-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" for="saddress-${e}">Shipping Address</label>\n            <input type="checkbox" name="saddress" id="saddress-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" id="defualt" for="dbaddress-${e}">Default Billing Address</label>\n            <input type="checkbox" name="dbaddress" id="dbaddress-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" id="defualt" for="dsaddress-${e}">Default Shipping Address</label>\n            <input type="checkbox" name="dsaddress" id="dsaddress-${e}">\n            <p class="error"></p>`,t.appendChild(n)}n(),e.addEventListener("click",n)}checkForm(){const e=this.returnRegistrationForm();function t(){return document.querySelectorAll(".reg-form__address").length}function n(e,t){t.innerHTML=e,t.classList.add("error_active")}function s(e){e.innerText="",e.classList.remove("error_active")}function r(e){return document.querySelector(`#${e} ~ .error`)}function o(e){return document.getElementById(e).value}function a(){const e=o("email"),t=r("email");e.match(/[-.\w]+@([\w-]+\.)+[\w-]+/g)?s(t):n("Email is wrong. Correct e-mail looks like <em>test@test.test</em>.",t)}function i(){const e=o("pass"),t=r("pass");e.length<8?n("Password length must be at least 8 characters.",t):e.match(/[A-Z]/)?e.match(/[0-9]/)?s(t):n("Password must have at least one digit.",t):n("Password must have at least one uppercase letter.",t)}function c(e){return Boolean(e.match(/[^a-z]/i)||!e.length)}function l(){const e=o("fname"),t=r("fname");c(e)?n("First name must contain at least one character and no special characters or numbers.",t):s(t)}function d(){const e=o("lname"),t=r("lname");c(e)?n("Last name must contain at least one character and no special characters or numbers.",t):s(t)}function u(){const e=o("bdate"),t=r("bdate"),a=Date.parse(e),i=new Date;Date.parse(`${i.getFullYear()-13}-${i.getMonth()+1}-${i.getDate()}`)-a<0||!a?n("13 is the minimum age to be registered user.",t):s(t)}function m(){for(let e=0;e<t();e+=1){const t=o(`street-${e}`),a=r(`street-${e}`);t.match(/[^a-zA-Z0-9-]/i)||t.length?s(a):n("Street field must contain at least one character.",a)}}function p(){for(let e=0;e<t();e+=1){const t=o(`city-${e}`),a=r(`city-${e}`);c(t)?n("City field must contain at least one character and no special characters or numbers.",a):s(a)}}function h(){for(let e=0;e<t();e+=1){const t=o(`pcode-${e}`),a=r(`pcode-${e}`);t.match(/\D/)||5!==t.length?n("Postal code field must follow the format for the country (e.g., 12345 for the U.S.).",a):s(a)}}function f(e){const t=e.target,n=t.id;if("email"===n)a();else if("pass"===n)i();else if("fname"===n)l();else if("lname"===n)d();else if("bdate"===n)u();else if(n.startsWith("street"))m();else if(n.startsWith("city"))p();else if(n.startsWith("pcode"))h();else if(n.startsWith("dbaddress-")){const e=document.querySelectorAll('input[type="checkbox"]'),s=document.getElementById(`baddress-${n.match(/\d+/)}`);e.forEach((e=>{e.id.startsWith("dbaddress-")&&e.checked&&(e.checked=!1)})),s.checked=!0,t.checked=!0}else if(n.startsWith("dsaddress-")){const e=document.querySelectorAll('input[type="checkbox"]');document.getElementById(`saddress-${n.match(/\d+/)}`).checked=!0,e.forEach((e=>{e.id.startsWith("dsaddress-")&&e.checked&&(e.checked=!1)})),t.checked=!0}}function g(e){const t=document.querySelector(".message");t.textContent=e,t.classList.add("message_active")}function w(){const e=document.querySelector(".message_active");null!==e&&(e.textContent="",e.classList.remove("message_active"))}function b(e){if(e.preventDefault(),a(),i(),l(),d(),u(),m(),p(),h(),null!==document.querySelector(".error_active")){const e=r("submit");n("It's at least one error on page. Change input values and try submit again.",e),setTimeout((()=>s(e)),5e3)}else!async function(){const e=o("email"),t=o("pass"),n=o("fname"),s=o("lname");let r;(async function(e,t,n,s){const r=(await Ze()).toString();return await ze.post(`${Qe}/${Ve}/me/signup`,{firstName:n,lastName:s,email:e,password:t},{headers:{Authorization:`Bearer ${r}`}})})(e,t,n,s).then((e=>{r=e.data.customer.id,console.log("User data posted successfully!")})).catch((e=>{throw console.error("An error occurred while posting customer:",e.message),e})).then((()=>function(e){const t={version:1,actions:[{action:"setFirstName",firstName:o("fname")},{action:"setLastName",lastName:o("lname")},{action:"setDateOfBirth",dateOfBirth:o("bdate")}]},n=document.querySelectorAll(".reg-form__address");for(let e=0;e<n.length;e+=1){const n=document.getElementById(`street-${e}`).value,s=document.getElementById(`city-${e}`).value,r={action:"addAddress",address:{streetName:n,postalCode:document.getElementById(`pcode-${e}`).value,city:s,country:"US"}};t.actions.push(r)}const s=document.querySelectorAll('input[type="checkbox"]'),r=[];s.forEach((e=>{e.checked&&r.push(e.id)}));let a=[],i=0;Xe(e,t).then((e=>{const{data:t}=e;a=t.addresses,i=t.version})).then((()=>{const t={version:i,actions:[]};r.forEach((e=>{const n=a[+`${e.match(/\d+/)}`].id;let s={action:"addBillingAddressId",addressId:n};e.startsWith("saddress")?s={action:"addShippingAddressId",addressId:n}:e.startsWith("dbaddress")?s={action:"setDefaultBillingAddress",addressId:n}:e.startsWith("dsaddress")&&(s={action:"setDefaultShippingAddress",addressId:n}),t.actions.push(s)})),Xe(e,t).catch((e=>g(e.message)))}))}(r))).then((()=>{console.log("User data updated successfully!")})).catch((e=>{throw console.error("An error occurred while updating customer info:",e.message),e})).then((()=>Ke(e,t))).then((e=>{console.log(e),console.log("User logged in successfully after update!"),g("User successfully created and logged in."),document.querySelectorAll("input").forEach((e=>{var t;["email","password","date"].includes((t=e).type)||"text"===t.type&&!t.id.startsWith("country")?t.value="":"checkbox"===t.type&&(t.checked=!1)})),localStorage.setItem("isLoggedIn","true"),setTimeout((()=>{w(),window.location.hash="/";const e=document.querySelector(".item-client .login"),t=document.querySelector(".item-client .register");e&&t&&(e.textContent="Profile",t.textContent="LogOut")}),5e3)})).catch((e=>{console.error("An error occurred during login:",e.message),g(e.message),setTimeout((()=>w()),5e3)}))}()}e.addEventListener("focusout",f),e.addEventListener("input",f),e.addEventListener("submit",b),window.addEventListener("beforeunload",(function t(){e.removeEventListener("focusout",f),e.removeEventListener("submit",b),window.removeEventListener("beforeunload",t)}))}}const lt=e.p+"23b8fa5f256676a53da3.jpg",dt=e.p+"220d09ae06791f9e5ecd.jpg",ut=e.p+"3ebd73fe8330a2fc828e.png";class mt{productDivs;data;filteredProductdivs;constructor(){this.productDivs=[],this.data=[],this.filteredProductdivs=[]}async createProducts(){try{this.productDivs=[];const e=(await async function(){const e=(await Ze()).toString(),t={url:`${Qe}/${Ve}/product-projections`,method:"get",params:{limit:500},headers:{Authorization:`Bearer ${e}`}};return await ze(t)}()).data.results;return this.data=e,console.log(this.data),e.forEach((e=>{const t=e.categories[0].id,n=e.id,s=document.createElement("div");s.id=n,s.classList.add("product__cart"),s.setAttribute("data-category",t);const r=document.createElement("img");r.classList.add("product__img"),r.src=e.masterVariant.images[0].url,r.alt=e.name["en-US"],s.appendChild(r);const o=document.createElement("p");o.classList.add("product__title"),o.textContent=e.name["en-US"],s.appendChild(o);const a=document.createElement("p");a.classList.add("product__description"),a.textContent=e.description["en-US"],s.appendChild(a);const i=document.createElement("div");i.classList.add("product__price");const c=document.createElement("p"),l=(e.masterVariant.prices[0].value.centAmount/100).toString();c.textContent=`${l}$`,i.appendChild(c),c.classList.add("current__price");const d=e.masterVariant.prices[0].discounted?.value.centAmount;if(d){const e=(d/100).toString(),t=document.createElement("p");t.classList.add("discounted__price"),c.classList.add("previous__price"),t.textContent=`${e}$`,i.appendChild(t)}s.appendChild(i);const u=document.createElement("button");u.classList.add("product__button"),u.textContent="View details",s.appendChild(u),this.productDivs.push(s)})),this.productDivs}catch(e){return console.error(e),[]}}}class pt{sortBlock;categoryDropdown;leftsideSortBlock;rightsideSortBlock;nameSortDropdown;priceSortDropdown;selectedCategory;searchInput;constructor(){this.sortBlock=document.createElement("div"),this.categoryDropdown=document.createElement("select"),this.leftsideSortBlock=document.createElement("div"),this.rightsideSortBlock=document.createElement("div"),this.searchInput=document.createElement("input"),this.selectedCategory="all products",this.setupSortBlock(),this.createCategoryDropdown(),this.createFilters("all products"),this.createPriceAndNameSortDropdowns()}setupSortBlock(){this.sortBlock?.classList.add("sort__container"),this.categoryDropdown?.classList.add("category__dropdown"),this.leftsideSortBlock?.classList.add("sort__container-left"),this.rightsideSortBlock?.classList.add("sort__container-right"),this.leftsideSortBlock&&this.sortBlock?.appendChild(this.leftsideSortBlock),this.rightsideSortBlock&&this.sortBlock?.appendChild(this.rightsideSortBlock),this.createSearchInput()}createSearchInput(){this.searchInput.type="text",this.searchInput.placeholder="I search...",this.searchInput.classList.add("search__input"),this.nameSortDropdown=document.createElement("select"),this.leftsideSortBlock?.appendChild(this.searchInput)}createCategoryDropdown(){["all products","dishes","paintings","jewellery","coins"].forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e.charAt(0).toUpperCase()+e.slice(1),this.categoryDropdown?.appendChild(t)})),this.categoryDropdown&&this.leftsideSortBlock?.appendChild(this.categoryDropdown)}createFilters(e){const t=this.leftsideSortBlock?.querySelector(".filters__container");t&&t.remove();const n=document.createElement("div");if(n.classList.add("filters__container"),"dishes"===e){const e=this.createDropdownWithCheckboxes("Material",["Venetian glass","Porcelain","Crystal","Silver"]),t=this.createDropdownWithCheckboxes("Type",["Plate","Teapot","Cup"]);n.appendChild(e),n.appendChild(t)}else if("paintings"===e){const e=this.createDropdownWithCheckboxes("Origin",["Asia","Europe","America"]),t=this.createDropdownWithCheckboxes("Genre",["Portrait","Landscape","Seascape","Caricature","Still life","Abstraction"]);n.appendChild(e),n.appendChild(t)}else if("jewellery"===e){const e=this.createDropdownWithCheckboxes("Type",["Ring","Necklace","Earrings"]),t=this.createDropdownWithCheckboxes("Material",["Yellow gold","Diamond","Topaz","Amethyst","Zircon"]);n.appendChild(e),n.appendChild(t)}else if("coins"===e){const e=this.createDropdownWithCheckboxes("Origin",["Asia","Europe","America"]),t=this.createDropdownWithCheckboxes("Material",["Yellow gold","Silver"]);n.appendChild(e),n.appendChild(t)}else{const e=["Yellow gold","Silver","Diamond","Topaz","Amethyst","Zircon","Venetian glass","Porcelain","Crystal"],t=["Plate","Teapot","Cup","Ring","Necklace","Earrings"],s=["Portrait","Landscape","Seascape","Caricature","Still life","Abstraction"],r=["Asia","Europe","America"],o=this.createDropdownWithCheckboxes("Material",e),a=this.createDropdownWithCheckboxes("Type",t),i=this.createDropdownWithCheckboxes("Gerne",s),c=this.createDropdownWithCheckboxes("Origin",r);n.appendChild(i),n.appendChild(c),n.appendChild(o),n.appendChild(a)}this.leftsideSortBlock?.appendChild(n)}createDropdownWithCheckboxes(e,t){const n=document.createElement("div"),s=document.createElement("p");return s.textContent=`${e}:`,n.appendChild(s),t.forEach((e=>{const t=document.createElement("label"),s=document.createElement("input");s.classList.add("checkbox"),s.type="checkbox",s.value=e,t.appendChild(s),t.appendChild(document.createTextNode(e)),n.appendChild(t)})),n}createSortDropdown(e,t,n){const s=document.createElement("label");s.textContent=t,s.classList.add("sort__label");const r=document.createElement("select");r.classList.add("sort__dropdown"),e.forEach((e=>{const t=document.createElement("option");t.textContent=e,r.appendChild(t)})),s.appendChild(r),n.appendChild(s),"Price:"===t?this.priceSortDropdown=r:"Name:"===t&&(this.nameSortDropdown=r)}createPriceAndNameSortDropdowns(){const e=document.createElement("div");e.classList.add("sort__block"),this.createSortDropdown(["Sort","Price: Low to High","Price: High to Low"],"Price:",e),this.createSortDropdown(["Sort","Name: A to Z","Name: Z to A"],"Name:",e),this.rightsideSortBlock?.appendChild(e)}}const ht={titleDiv:{tag:"div",classNames:["profile__header"]},titleParametrs:{tag:"h3",classNames:["profile__title"],textContent:"Basic information"},editParametrs:{tag:"button",classNames:["profile__edit"],textContent:"🖉 Edit",event:"click",callback:st},buttonsContainer:{tag:"div",classNames:["buttonsContainer","hidden"]},saveParametrs:{tag:"button",classNames:["saveButton"],textContent:"Save",event:"click",callback:ot},cancelParametrs:{tag:"button",classNames:["addresses__edit"],textContent:"Cancel",event:"click",callback:rt},infoDiv:{tag:"div",classNames:["profile__infoBlock"]},firstName:{tag:"div",classNames:["profile__firstName"],textContent:"Firstname "},firstNameValue:{tag:"input",classNames:["firstName","readonly"],event:"input",callback:function(){const e=/[a-z]/,t=document.getElementById("userFirstName"),n=document.getElementById("userFirstNameError");if(t instanceof HTMLInputElement&&n){const s=t.closest(".profile__container").querySelector(".saveButton");console.log("saveButton: ",s),s&&(e.test(t.value)&&t.value.length?(t.classList.remove("invalid"),n.innerHTML="",s.removeAttribute("disabled")):(t.classList.add("invalid"),n.innerHTML="First name must contain at least one character and no special characters or numbers.",s.setAttribute("disabled","true"),console.log("ERRRRRRRRRRRRRRRRRROFTT")))}},attributes:{id:"userFirstName",type:"text",readonly:"true"}},lastName:{tag:"div",classNames:["profile__lastName"],textContent:"Lastname "},lastNameValue:{tag:"input",classNames:["lastName","readonly"],event:"input",callback:function(){const e=document.getElementById("userLastName"),t=document.getElementById("userLastNameError");e instanceof HTMLInputElement&&t&&(/[a-z]/.test(e.value)&&e.value.length?(e.classList.remove("invalid"),t.innerHTML=""):(e.classList.add("invalid"),t.innerHTML="Last name must contain at least one character and no special characters or numbers."))},attributes:{id:"userLastName",type:"text",readonly:"true"}},dateofBirth:{tag:"div",classNames:["profile__dateOfBirth"],textContent:"Date of Birth"},dateofBirthValue:{tag:"input",classNames:["dateOfBirth","readonly"],event:"input",callback:function(){const e=document.getElementById("dateOfBirth"),t=document.getElementById("userDateOfBirthError");if(e instanceof HTMLInputElement&&t){const n=Date.parse(e.value),s=new Date;Date.parse(`${s.getFullYear()-13}-${s.getMonth()+1}-${s.getDate()}`)-n<0||!n?(e.classList.add("invalid"),t.innerHTML="You have not reached the minimum age to use the site."):(e.classList.remove("invalid"),t.innerHTML="")}},attributes:{id:"dateOfBirth",type:"date",readonly:"true"}},email:{tag:"div",classNames:["profile__email"],textContent:"Email"},emailValue:{tag:"input",classNames:["email","readonly"],event:"input",callback:r,attributes:{id:"email",type:"email",readonly:"true"}},firstNameError:{tag:"span",classNames:["userFirstNameError","errorSpan"],attributes:{id:"userFirstNameError"}},lastNameError:{tag:"span",classNames:["userLastNameError","errorSpan"],attributes:{id:"userLastNameError"}},dateOfBirthError:{tag:"span",classNames:["userDateOfBirthError","errorSpan"],attributes:{id:"userDateOfBirthError"}},emailError:{tag:"span",classNames:["emailError","errorSpan"],attributes:{id:"emailError"}}};class ft extends c{constructor(){super({tag:"div",classNames:["profile__container"]}),this.configureView()}configureView(){const e=new a(ht.titleDiv),t=new a(ht.titleParametrs),n=new a(ht.editParametrs),s=new a(ht.buttonsContainer),r=new a(ht.saveParametrs),o=new a(ht.cancelParametrs);s.addInnerElement([r,o]),e.addInnerElement([t,n,s]);const i=new a(ht.infoDiv),c=new a(ht.firstName),l=new a(ht.firstNameValue),d=new a(ht.firstNameError),u=new a(ht.lastName),m=new a(ht.lastNameValue),p=new a(ht.lastNameError),h=new a(ht.dateofBirth),f=new a(ht.dateofBirthValue),g=new a(ht.dateOfBirthError),w=new a(ht.email),b=new a(ht.emailValue),y=new a(ht.emailError),E=$e.getCustomer();E&&(l.setTextContent(E.firstName),m.setTextContent(E.lastName),f.setTextContent(E.dateOfBirth),b.setTextContent(E.email),console.log("SADSADSADSD",E.password)),i.addInnerElement([c,l,d,u,m,p,h,f,g,w,b,y]),this.viewElement.addInnerElement([e,i])}}const gt={titleDiv:{tag:"div",classNames:["addresses__header"]},titleParametrs:{tag:"h3",classNames:["addresses__title"],textContent:"Addresses"},editParametrs:{tag:"button",classNames:["editButton"],textContent:"🖉 Edit",event:"click",callback:st},addressesDiv:{tag:"div",classNames:["addresses__infoBlock"]},addressesDivHeader:{tag:"div",classNames:["addresses__infoHeader"]},addressesDivTitle:{tag:"div",classNames:["addresses__infoTitle"],textContent:"Address"},buttonsContainer:{tag:"div",classNames:["buttonsContainer","hidden"]},saveParametrs:{tag:"button",classNames:["saveButton"],textContent:"Save",event:"click"},cancelParametrs:{tag:"button",classNames:["addresses__edit"],textContent:"Cancel",event:"click"},infoBlock:{tag:"div",classNames:["addresses__dataBlock"]}};class wt extends c{customer;constructor(){super({tag:"div",classNames:["addresses__container"]}),this.customer=$e.getCustomer(),this.configureView()}configureView(){const e=new a(gt.titleDiv),t=new a(gt.titleParametrs);e.addInnerElement([t]);const n=new a(gt.addressesDiv);this.getAddresses(n),this.viewElement.addInnerElement([e,n])}getAddresses(e){this.customer&&this.customer.addresses.forEach((t=>{const n=new a({tag:"div",classNames:["address__wrapper"],attributes:{id:t.id}}),s=new a(gt.addressesDivHeader),r=new a(gt.addressesDivTitle),o=new a(gt.editParametrs),i=new a(gt.buttonsContainer),c=new a(gt.saveParametrs),l=new a(gt.cancelParametrs),d=new a(gt.infoBlock);if(i.addInnerElement([c,l]),s.addInnerElement([r,o,i]),n.addInnerElement([s,d]),t.id===this.customer?.defaultBillingAddressId){const e=new a({tag:"div",textContent:"Default billing address"}),t=new a({tag:"div",textContent:"🧾🧾🧾🧾🧾"});d.addInnerElement([e,t]),d.getElement().classList.add("default")}if(t.id===this.customer?.defaultShippingAddressId){const e=new a({tag:"div",textContent:"Default shipping address"}),t=new a({tag:"div",textContent:"🚚🚚🚚🚚🚚"});d.addInnerElement([e,t]),d.getElement().classList.add("default")}const u=new a({tag:"div",textContent:"Country"}),m=new a({tag:"div",textContent:`${t.country}`}),p=new a({tag:"div",textContent:"City"}),h=new a({tag:"div",textContent:`${t.city}`}),f=new a({tag:"div",textContent:"Street"}),g=new a({tag:"div",textContent:`${t.streetName}`}),w=new a({tag:"div",textContent:"Postal Code"}),b=new a({tag:"div",textContent:`${t.postalCode}`});d.addInnerElement([u,m,p,h,f,g,w,b]),e.addInnerElement([n])}))}}const bt={titleDiv:{tag:"div",classNames:["password__header"]},titleParametrs:{tag:"h3",classNames:["password__title"],textContent:"Password information"},editParametrs:{tag:"button",classNames:["password__edit"],textContent:"🖉 Edit",event:"click",callback:st},buttonsContainer:{tag:"div",classNames:["buttonsContainer","hidden"]},saveParametrs:{tag:"button",classNames:["saveButton"],textContent:"Save",event:"click",callback:ot},cancelParametrs:{tag:"button",classNames:["addresses__edit"],textContent:"Cancel",event:"click",callback:rt},infoDiv:{tag:"div",classNames:["password__infoBlock"]},password:{tag:"div",classNames:["passwordLabel"],textContent:"Password "},passwordValue:{tag:"input",classNames:["password","readonly"],event:"input",callback:o,attributes:{id:"password",type:"password",readonly:"true"}},newPassword:{tag:"div",classNames:["newPasswordLabel","hidden"],textContent:"New password "},newPasswordValue:{tag:"input",classNames:["newPassword","readonly","hidden"],event:"input",callback:o,attributes:{id:"newPassword",type:"password",readonly:"true"}},passwordError:{tag:"span",classNames:["passwordError","errorSpan"],attributes:{id:"passwordError"}},newPasswordError:{tag:"span",classNames:["newPasswordError","errorSpan","hidden"],attributes:{id:"newPasswordError"}}};class yt extends c{constructor(){super({tag:"div",classNames:["password__container"]}),this.configureView()}configureView(){const e=new a(bt.titleDiv),t=new a(bt.titleParametrs),n=new a(bt.editParametrs),s=new a(bt.buttonsContainer),r=new a(bt.saveParametrs),o=new a(bt.cancelParametrs);s.addInnerElement([r,o]),e.addInnerElement([t,n,s]);const i=new a(bt.infoDiv),c=new a(bt.password),l=new a(bt.passwordValue),d=new a(bt.passwordError),u=new a(bt.newPassword),m=new a(bt.newPasswordValue),p=new a(bt.newPasswordError),h=$e.getCustomer();h&&l.setTextContent(h.password),i.addInnerElement([c,l,d,u,m,p]),this.viewElement.addInnerElement([e,i])}}class Et extends c{constructor(){super({tag:"div",classNames:["user__section"]}),this.configureView()}configureView(){const e=(new ft).getHtmlElement(),t=(new wt).getHtmlElement(),n=(new yt).getHtmlElement();this.viewElement.addInnerElement([e,n,t])}}class vt{header;footer;main;body;templates={};registration;sorting;products;productContainer;constructor(){this.body=document.querySelector("body"),this.header=this.createHeader(),this.main=this.createMain(),this.footer=this.createFooter(),this.productContainer=document.createElement("div"),this.productContainer.classList.add("product__container"),this.products=new mt,this.sorting=new pt,this.registration=new ct}registerTemplate(e,t){this.templates[e]=t}getTemplateFunction(e){const t=this.templates[e];if(!t)throw new Error(`Template function for "${e}" not found.`);return t}showHomePage(){const e=document.querySelector(".burger__menu-icon");e?.classList.remove("dark__color");const t=document.querySelector(".item-basket img"),r=document.querySelector(".item-basket div");t.src=s,r.style.border="2px solid #e4d4be",this.main.innerHTML="",this.header.style.color="#e4d4be";const o=["img-background","dark-background","light-background","dark-background"],a=["welcome__section","new-collection__section","special-offer__section","contact__section"],i=[`${n.welcome}`,`${n.collection}`,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Feugiat enim tortor in hac id imperdiet adipiscing. Pellentesque nisi, mi sit non sit sed fermentum. Felis adipiscing morbi sodales ac. Mauris dictumst risus pulvinar blandit elit. Vestibulum quam ultrices nascetur et viverra suscipit. Proin vitae aliquet leo aliquam amet rutrum. Lectus auctor purus ultrices enim ultrices. Augue fringilla tellus tortor orci ultrices sed. Viverra cras sapien, pellentesque viverra malesuada. Tellus dolor, eget vitae dignissim molestie eget sit duis. Vitae dui vel pretium euismod diam. Pellentesque amet, lacus, amet, quis risus. Pellentesque scelerisque nunc, orci aliquam quis."];for(let e=0;e<4;e+=1){const t=document.createElement("div");t.classList.add("background",o[e]);const n=document.createElement("div");n.classList.add("wrapper"),t.appendChild(n);const s=document.createElement("section");if(s.classList.add("section",a[e]),n.appendChild(s),s.classList.contains("welcome__section")){const t=document.createElement("p");t.textContent=i[e],s.appendChild(t)}if(s.classList.contains("new-collection__section")){const t=document.createElement("div");t.classList.add("newCollection__content");const n=document.createElement("img");n.classList.add("newCollectionDiv__img"),n.src=lt,t.appendChild(n);const r=document.createElement("div");r.classList.add("newCollection_rigth_content");const o=document.createElement("p");o.textContent=i[e];const a=document.createElement("div"),c=document.createElement("div");c.textContent="TO BUY OUR PRODUCTS",a.classList.add("buy__block");const l=document.createElement("btn__block");l.classList.add("btn__block");const d=document.createElement("button");d.classList.add("login_btn"),d.textContent="LOGIN",d.onclick=()=>{"true"===localStorage.getItem("isLoggedIn")&&localStorage.getItem("isLoggedIn")?window.location.hash="/":window.location.hash="/login"};const u=document.createElement("button");u.classList.add("reg_btn"),u.textContent="REGISTER","true"===localStorage.getItem("isLoggedIn")?u.disabled=!0:u.onclick=()=>{window.location.hash="/register"},l.appendChild(u),l.appendChild(d),a.appendChild(c),a.appendChild(l),r.appendChild(o),r.appendChild(a),t.appendChild(r),s.appendChild(t)}if(s.classList.contains("special-offer__section")){const t=document.createElement("h2");t.textContent="Special Offer",s.appendChild(t);const n=document.createElement("div");n.classList.add("special-offer__content");const r=document.createElement("p");r.textContent=i[e],n.appendChild(r);const o=document.createElement("img");o.classList.add("special-offer__img"),o.src=dt,n.appendChild(o),s.appendChild(n)}this.main.appendChild(t)}}showAboutPage(){this.clearMain();const e=document.createElement("section");e.innerText="Not completed yet",this.main.appendChild(e)}async showCatalogPage(){this.clearMain();const e=document.createElement("section");e.classList.add("product__section");const t=this.products,n=await t.createProducts(),s=this.sorting,{sortBlock:r}=s,o=s.rightsideSortBlock;o?.appendChild(this.productContainer),n.forEach((e=>{this.productContainer.appendChild(e)})),r&&e.appendChild(r),this.main.appendChild(e)}showProductPage(){this.clearMain()}showDeliveryPage(){this.clearMain();const e=document.createElement("section");e.innerText="Not completed yet",this.main.appendChild(e)}showContactsPage(){this.clearMain();const e=document.createElement("section");e.innerText="Not completed yet",this.main.appendChild(e)}showSignInPage(){this.clearMain();const e=(new it).getHtmlElement();this.main.appendChild(e)}showRegisterPage(){this.clearMain(),this.registration.draw(),this.registration.checkForm(),this.registration.addAddressListener()}show404Page(){this.clearMain();const e=document.createElement("section");e.classList.add("section__error");const t=`\n    <h1>4<img src="${ut}" alt="Clock" width="100">4</h1>\n    <p>The page you're looking for could not be found.</p>\n    <a href="#/">Return to Main Page</a>\n  `;e.innerHTML=t,this.main.appendChild(e)}showUserPage(){this.clearMain();const e=new Et;this.main.appendChild(e.getHtmlElement())}createHeader(){this.header=document.createElement("header"),this.header.id="header",this.body?.appendChild(this.header);const e=document.createElement("div");e.classList.add("background"),e.classList.add("img-background"),this.header.appendChild(e);const t=document.createElement("div");t.classList.add("wrapper"),t.classList.add("header-wrapper"),e.appendChild(t);const r=document.createElement("div");r.classList.add("left-content"),r.textContent=n.title,t.appendChild(r);const o=document.createElement("div");o.classList.add("right-content"),t.appendChild(o);const a=document.createElement("div");a.classList.add("burger__menu");const i=document.createElement("div");i.classList.add("burger__menu-icon");const c=document.createElement("span");c.classList.add("burger__menu-line");const l=document.createElement("nav");l.classList.add("menu");const d=document.createElement("ul");d.classList.add("menu-list"),n.menuItems.forEach((e=>{const t=document.createElement("li");t.classList.add("menu-item"),t.textContent=e,d.appendChild(t)}));const u=document.createElement("li");u.classList.add("item-client"),u.classList.add("menu-item");const m=document.createElement("div"),p=document.createElement("div"),h=document.createElement("div");m.classList.add("login"),h.classList.add("register"),"true"!==localStorage.getItem("isLoggedIn")?(m.textContent=n.login,h.textContent=n.register):(m.textContent=n.profile,h.textContent=n.logout),p.textContent="|",u.appendChild(m),u.appendChild(p),u.appendChild(h),d.appendChild(u);const f=document.createElement("li");f.classList.add("item-basket");const g=document.createElement("img"),w=document.createElement("div");w.classList.add("products__numbres"),w.innerHTML="0",g.src=s,f.appendChild(g),f.appendChild(w),d.appendChild(f);const b=document.createElement("div");return b.classList.add("burger__menu-overlay"),l.appendChild(d),i.appendChild(c),a.appendChild(i),a.appendChild(l),o.appendChild(a),o.appendChild(b),this.header}createMain(){return this.main=document.createElement("main"),this.main.id="main",this.body?.appendChild(this.main),this.main}clearMain(){this.main.innerHTML="",this.main.classList.add("light-background"),this.header.style.color="#100e0e";const e=document.querySelector(".burger__menu-icon");e?.classList.add("dark__color");const t=document.querySelector(".item-basket img"),n=document.querySelector(".item-basket div");t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAAAqo0jMgAAAAlwSFlzAAAAYAAAAGAA8GtCzwAAAAd0SU1FB+cIEQwlFORzB18AAAJxSURBVEjHrdVdaJZlHAbw317FNYX2SiGSm6U4sdwmrNxEMtkHQ/JAFEQpCoJUhGIyKkvQoJP8iHbgQWodxCKRDRHyAw/8OLCQdzpJ5e3DT8QNCicbHbTN1ubBe29sz/u806HXc3L/7+u+r/v6X/fD8/CEyMNm1SP1JXv8P1GBI1pcA5M0avP1RF3scjM8XSqcfpKGDnrDHZMmsmXs4mLFCrW79/gCk8dUKY1STvn3sR1vHzuR77qV9ocq6dcRJm1qGH2nLow2+JzEGIF+Pe6qDFWPwphTi3SEUZVUtAVS5prqBb1gwEz9Iauk/JBTr+lBYGvmPRiNd7ziRVW6wTydQWqh3w2CMlfBFAVKsg3Od0aDj0PVbHkkg2nSYabGD0Qz4Lo5LqoKVYeirAQ6RyeQncGQP/V7NSRdaJm/w8nV+lEmEbh6W+MESFnkno26UeylkNKz1hjAAgXWgsUui8WbDthrNXjN4UgGn9kEZjufIRIxDiqlQgodZkXYWSGDykwCcS3cVyBtm24klGQ69bxG/2GZPAtR6/vM8jzZ+NG3Wu0Y98MyqMU/8Q5os1i7n8ML8wjEOVjiI2mDjo2zb8gVA7kEnvGbtT6J5YZR6W2/5Gqhz1G7XRjX+cvD95frlKVZFxgN8bi+XA6gS6kuJzKLIqnVKdE+zCRit7+nxXNqpMyIMJMd975pvtSUW2C6T31glXxNvsiSvuGit3yjzNJc/b2uWbN1zqpxKcIdsMJfSqU12JLLwW3lfvKVpAI3I9wt5c45qVVFFjcKTQ6p964/lEaYQlc1qrXTmcw/Jdc1rlevyz63spikD5W4YL8HngYeAtrhmbzxuQ21AAAAAElFTkSuQmCC",n.style.border="2px solid rgb(16, 14, 14)"}createFooter(){this.footer=document.createElement("footer"),this.footer.id="footer",this.body?.appendChild(this.footer);const e=document.createElement("div");e.classList.add("background","dark-background"),this.footer.appendChild(e);const t=document.createElement("div");t.classList.add("wrapper"),t.classList.add("footer-wrapper"),e.appendChild(t);const s=document.createElement("div");s.classList.add("footer__contact");const r=document.createElement("div");r.innerText=n.footer.contactInfo.contactTitle,s.appendChild(r);const o=document.createElement("div");s.innerText=n.footer.contactInfo.contactContent,s.appendChild(o);const a=document.createElement("div");a.classList.add("footer__social");const i=document.createElement("div");i.innerText=n.footer.socialInfo.socialTitle;const c=document.createElement("a");c.href="https://www.instagram.com/your_favorite_antique_shop/?igshid=OGQ5ZDc2ODk2ZA%3D%3D";const l=document.createElement("img");l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARMSURBVEiJndVtiFVFHMfx78yZmXt3V13XTdk1H3KVdiFKqIT0nREoEliYJmpv8iG0XoQUhtGDFiQSBFlGBgaL0oOhWNnWK/F1vYii2Czc1d1V13Zd756HmXPuvef04uq69+6a2YHDcM6Lzzz9/jOCf3lc39JFnj+6hlitEE7NI/ZaRZiDsOGSiOouiLDuO0TjcbHjo3O3MsSk8OCSNhkW3pBxujGLjCdiA7FGhHkI6yptdL31TUrgfUNS95I4+N5ft+0g7lu0SRaLH+N0PdZwGxwCBYGBQIUU9GbRte+L8Z4c/1G+uPBVmSSdd4z7CnzdQKQ/yxbv2TXpDOK+9o0ysZ3ERt4xHujK62tcycui4eL65oE3vxzrwA0+tNALh36ZMPKoAVQHQt8DSQ7hNDgFzgPrQc8IdA9DwavgKOzVErYkg4D6jvb+nQMKQPqjb5Poetw4nHuRy96CafPg2iVISpAKKItK6xlonQm9V+Dl4zi/gLMCW5JYzJQS7AG2CNe3dJEK/u7OrPGEuzlyuewwxJas6wDiip24LKGBlrnwwuNkdTkK6zuJhmJsZnBoLKYcpXULpA5H11ThYR5UB0ybV42HGqbOhcY5EOWgvR0ObSd55wfEwrsotTSNx7FoL5HeapVatUI4Ub2hzZVlGcPrZsO2rTC9CaSEy9dg90mS545i/ywge0YozW7G/erfwHEYLGqVEs5bQOxVp2WqgTi5uSxbt8CPv8Onp8Hm4NmVpHufwG44grUZ+SChKFQNrrGYNolTMydE0ZnKZgYKci3Q2FjBfQUjEvf+GcT8GSStMwiDjBRBgqrFcei7lYjyEOarc+5UJSmBgaIHmajsga9wKGJhyAmBLZRwmSZFEuPV4lhMKkXUMDihiKwHZVkZcW8Alwuw4TGc1MQqj35xOUn3EH5viMWQIihen8E4HIu+qAhyvUS5tqoKdR5oc7NCd50g3b+W3Lol5JRH0jvC+c3fjq25bNDEmVeL4zDnlIjquwj1o1U5P1+A1lmQb4ZLFuf7xJuOUmxtwkYweraAzSoIrdOpb2tk5EJci2OFOiURjcfxTbmqiLqHKxX62tPEs5qIMdgwpfDzEKN/VOP3HVxOobvA4Flbm6JynHpfC4Bs544jjOqNVQfXjBayfU9ViqhnhLItkSLIEKQIRF5T3zaNQneB09t/YrCnWJuiT97tf3hbpYPNz88nzP+GrxvGTkUUDkNp1nTK82eSCI8ERYKiiCLJPIbPWQbPWqKyrsV9J2THB30PXhw7rrOVr6zF6s/xtXQonBVEQbm2/CeLYu3/LM70ugMDi7+qunDE9/uOcU3tdiUvs1dLRP7/wlOb6Z038EmvzJE5rz8ZYTotZsod4r4V5pkP+x44ecsrE6Cpf++JgPoOhz5kMaX/gKdWmGO2LO+vxSedwfjnzOzDcxPprY5QqyxmgUPPuY73x5ieUOhTSSpP7h94pP9Wxj82KZSHy0SXZwAAAABJRU5ErkJggg==",c.appendChild(l),a.appendChild(i),a.appendChild(c);const d=document.createElement("div");d.classList.add("footer__questions");const u=document.createElement("div");u.innerText=n.footer.questions.questionstitle;const m=document.createElement("a");return m.href="mailto:kruckovaviktoria421@gmail.com",m.textContent="kruckovaviktoria421@gmail.com",d.appendChild(u),d.appendChild(m),t.appendChild(a),t.appendChild(s),t.appendChild(d),this.footer}}class At{menu;menuIcon;overlay;body;menuItems;constructor(){this.body=document.querySelector("body"),this.menuIcon=document.querySelector(".burger__menu-icon"),this.overlay=document.querySelector(".burger__menu-overlay"),this.menu=document.querySelector(".menu"),this.menuItems=document.querySelectorAll(".menu-item")}init(){this.menuIcon&&this.menuIcon.addEventListener("click",(()=>{this.toggleMenu()})),this.overlay&&this.overlay.addEventListener("click",(()=>{this.hideMenu()})),this.menuItems&&this.menuItems.forEach((e=>{e.addEventListener("click",(()=>{this.hideMenu()}))}))}toggleMenu(){document.body.classList.toggle("_lock"),this.menuIcon?.classList.toggle("_show"),this.menu?.classList.toggle("_show"),this.overlay?.classList.toggle("_show")}hideMenu(){this.overlay?.classList.remove("_show"),this.menu?.classList.remove("_show"),this.menuIcon?.classList.remove("_show"),document.body.classList.remove("_lock")}}(new class{routing;app;burger;constructor(){this.app=new vt,this.routing=new t(this.app),this.routing.init(),this.burger=new At,this.burger.init(),this.init()}addProductsHandlers(){document.addEventListener("click",(e=>{console.log("clik"),e.stopImmediatePropagation();const t=e.target;console.log(t),t.classList.contains("product__button")&&this.routing.handleProductItemClick(e)}))}addMenuClickHandlers(){document.querySelectorAll(".menu-item").forEach(((e,t)=>{e.addEventListener("click",(e=>{e.stopPropagation(),this.routing.handleMenuItemClick(t,e)}))}))}displayFilteredResults(){this.app.productContainer.innerHTML="",this.app.products.filteredProductdivs.forEach((e=>{this.app.productContainer.appendChild(e)}))}checkCheckboxes(){const e=document.querySelectorAll(".checkbox"),t=Array.from(e).filter((e=>e.checked)).map((e=>e.value.toLowerCase()));0!==t.length&&(this.app.products.filteredProductdivs=this.app.products.filteredProductdivs.filter((e=>{const n=e.id,s=this.app.products.data.find((e=>e.id===n));if(s){const{attributes:e}=s.masterVariant,n=e.reduce(((e,t)=>(Array.isArray(t.value)?e.push(...t.value.map((e=>e.toLowerCase()))):e.push(t.value.toLowerCase()),e)),[]);return t.some((e=>n.includes(e)))}return!1})))}sortByPrice(e){const t=e=>{if(!e)return 0;const t=e.querySelector(".discounted__price"),n=e.querySelector(".current__price");let s="";return t?s=t.textContent||"":n&&(s=n.textContent||""),s=s.replace("$",""),s=s.trim()||"0",parseFloat(s)};return this.app.products.filteredProductdivs.sort(((n,s)=>{const r=t(n),o=t(s);return"Price: Low to High"===e?r-o:"Price: High to Low"===e?o-r:0})),this.app.products.filteredProductdivs}sortByName(e){return this.app.products.filteredProductdivs.sort(((t,n)=>{const s=t.querySelector(".product__title"),r=s?s.textContent.toLowerCase():"",o=n.querySelector(".product__title"),a=o?o.textContent.toLowerCase():"";return"Name: A to Z"===e?r.localeCompare(a):"Name: Z to A"===e?a.localeCompare(r):0})),this.app.products.filteredProductdivs}updateFiltersAndSearch(){const e=this.app.sorting.categoryDropdown?.value,t=this.app.sorting.searchInput.value.toLowerCase().trim(),n=this.app.sorting.priceSortDropdown?.value,s=this.app.sorting.nameSortDropdown?.value;this.filterByCategory(e),this.filterBySearchText(t),this.filterBySearchText(t),this.checkCheckboxes(),this.sortByPrice(n),this.sortByName(s),this.displayFilteredResults()}filterByCategory(e){this.app.products.filteredProductdivs="all products"===e?this.app.products.productDivs:this.app.products.productDivs.filter((t=>t.getAttribute("data-category")===this.getCategoryIdByCategoryName(e)))}filterBySearchText(e){this.app.products.filteredProductdivs=this.app.products.filteredProductdivs.filter((t=>{const n=t.id,s=this.app.products.data.find((e=>e.id===n));return!!s&&s.name["en-US"].split(" ").map((e=>e.toLowerCase())).some((t=>t.includes(e)))}))}getCategoryIdByCategoryName(e){switch(e){case"dishes":return"eb65d601-d77d-48fa-a7fa-7f5ef0d39454";case"paintings":return"b92cb37a-12a1-4fae-8c47-496f4540603c";case"jewellery":return"12b137e5-341a-4d73-8fb5-ae453c745db4";case"coins":return"9a31e44b-6f15-4f3c-a633-0d4ebc2ae444";default:return""}}addCheckboxesHandlers(){const e=this.app.sorting.leftsideSortBlock?.querySelector(".filters__container"),t=e?.querySelectorAll(".checkbox");t?.forEach((e=>{e.addEventListener("change",(()=>{this.updateFiltersAndSearch()}))}))}addPriceSortListener(){this.app.sorting.priceSortDropdown?.addEventListener("change",(()=>{this.updateFiltersAndSearch()}))}addNameSortListener(){this.app.sorting.nameSortDropdown?.addEventListener("change",(()=>{this.updateFiltersAndSearch()}))}addSortingHandlers(){this.app.sorting.categoryDropdown?.addEventListener("change",(()=>{const e=this.app.sorting.categoryDropdown?.value;this.filterByCategory(e),this.app.sorting.createFilters(e),this.displayFilteredResults(),this.addCheckboxesHandlers()}))}addSearchHandlers(){this.app.sorting.searchInput.addEventListener("input",(()=>{this.updateFiltersAndSearch()}))}addProductsClick(){this.app.products.filteredProductdivs.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),this.routing.handleProductItemClick(e)}))}))}allHandlers(){this.addProductsClick(),this.addSearchHandlers(),this.addSortingHandlers(),this.addPriceSortListener(),this.addNameSortListener(),this.addCheckboxesHandlers()}init(){this.addProductsHandlers(),this.addMenuClickHandlers(),this.allHandlers()}}).init(),alert("уважаемый проверяющий, просим, пожалуйста проверить, если возможно, в среду вечером или в четверг! заранее благодарим от лица команды!")})();