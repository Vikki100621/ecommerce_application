(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");if(r.length)for(var s=r.length-1;s>-1&&!t;)t=r[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{app;routes;id;constructor(e){this.app=e,this.id=null,this.routes=[{path:"/",template:"home"},{path:"/catalog",template:"catalog"},{path:"/delivery",template:"delivery"},{path:"/about",template:"about"},{path:"/contacts",template:"contacts"},{path:"/login",template:"login"},{path:"/register",template:"register"},{path:"/user",template:"user"},{path:"/logout",template:"log"},{path:`/catalog/${this.id}`,template:"product"}],this.updateIdRoutes()}registerTemplates(){this.routes.forEach((({template:e,path:t})=>{this.app.registerTemplate(e,this.getTemplateFunctionForPath(t))}))}getTemplateFunctionForPath(e){switch(e){case"/":return()=>this.app.showHomePage();case"/catalog":return()=>this.app.showCatalogPage();case"/delivery":return()=>this.app.showDeliveryPage();case"/about":return()=>this.app.showAboutPage();case"/contacts":return()=>this.app.showContactsPage();case"/login":return()=>this.app.showSignInPage();case"/register":return()=>this.app.showRegisterPage();case"/user":return()=>this.app.showUserPage();case`/catalog/${this.id}`:return()=>this.app.showProductPage();default:return()=>this.app.showHomePage()}}updateIdRoutes(){if(null!==this.id){const e=this.routes.findIndex((e=>"product"===e.template));-1!==e&&(this.routes[e].path=`/catalog/allproducts/${this.id}`)}}updateId(e){this.id=e,this.updateIdRoutes()}init(){this.registerTemplates();const e=()=>{"true"!==localStorage.getItem("isLoggedIn")||"#/login"!==window.location.hash&&"#/register"!==window.location.hash?this.router():window.location.hash="/"};window.addEventListener("load",e),window.addEventListener("hashchange",e)}router(){const e=window.location.hash.slice(1)||"/";this.resolveRoute(e)()}resolveRoute(e){try{const t=this.routes.find((t=>t.path===e))?.template;return this.app.getTemplateFunction(t)}catch(t){throw this.app.show404Page(),new Error(`Route ${e} not found`)}}handleMenuItemClick(e,t){const n=t.target;if(n.classList.contains("register"))if("LogOut"===n.textContent){localStorage.setItem("isLoggedIn","false"),window.location.hash="/";const e=document.querySelector(".item-client .login"),t=document.querySelector(".item-client .register");e&&t&&(e.textContent="Login",t.textContent="Register")}else"true"===localStorage.getItem("isLoggedIn")&&localStorage.getItem("isLoggedIn")||(window.location.hash="/register");else if(n.classList.contains("login"))"true"===localStorage.getItem("isLoggedIn")&&localStorage.getItem("isLoggedIn")?window.location.hash="/":window.location.hash="/login";else{const t=this.routes[e].path;window.location.hash=t}}handleProductItemClick(e){const t=e.target,{parentElement:n}=t;if(n&&n.hasAttribute("id")){this.id=n.getAttribute("id"),this.updateId(n.getAttribute("id"));const e=this.routes[9].path;window.location.hash=e}}}const n={title:"Antique Shop",menuItems:["Home","Catalog","Delivery","About Us","Contacts"],login:"LogIn",register:"Register",logout:"LogOut",profile:"Profile",welcome:"Welcome to our antique store! Here, you will find unique historical treasures that transport us to bygone eras. Our exhibits are not just items; they are real stories, the breath of the past, which we respectfully preserve and offer for you to acquire. We offer antiques from various epochs and styles: the precious gems of the Victorian era, exquisite Renaissance art pieces, and extraordinary artifacts from ancient civilizations. We take pride in our collection, and each item has been carefully selected with a love for history. Our team of experts is ready to share insights about each object and its fascinating history. Immerse yourself in the atmosphere of the past, feel the magic of time, and choose your unique piece of history that will not only adorn your home but also become a valuable legacy for future generations. We invite you to embark on an exciting journey through the ages with us!",footer:{contactInfo:{contactTitle:"CONTACT INFORMATION",contactContent:"We are located at: 15 Nevskogo St, St. Petersburg. Tel.: +7 (916) 432 44-44"},socialInfo:{socialTitle:"FIND US ON SOCIAL MEDIA",socialContent:""},questions:{questionstitle:"Mail for your questions",questionsemail:'<a href="mailto:kruckovaviktoria421@gmail.com">kruckovaviktoria421@gmail.com</a>'}},collection:'We present a new collection - "Treasures of the Royal France." Porcelain cups and mugs adorned with royal coats of arms and symbols are designed to evoke the nobility and power of the royal dynasty. The breathtaking elegance and uniqueness of each piece make them not only tableware items but also genuine works of art.'},r="data:image/png;base64,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";class s{element;constructor(e){this.element=document.createElement(e.tag),this.addAttributes(e)}getElement(){return this.element}addInnerElement(e){e.forEach((e=>{e instanceof s?this.element.append(e.getElement()):this.element.append(e)}))}addAttributes(e){void 0!==e.classNames&&this.setCssClasses(e.classNames),void 0!==e.textContent&&this.setTextContent(e.textContent),void 0!==e.callback&&void 0!==e.event&&this.setCallback(e.event,e.callback),void 0!==e.attributes&&this.setAttributes(e.attributes)}setCssClasses(e){this.element.classList.add(...e)}setTextContent(e){this.element.textContent=e}setCallback(e,t){this.element.addEventListener(e,(e=>t(e)))}setAttributes(e){Object.keys(e).forEach((t=>{this.element.setAttribute(t,e[t])}))}}class o extends s{inputElement;labelElement;constructor(e){super(e),this.inputElement=document.createElement("input"),this.labelElement=document.createElement("label"),this.addInputAndLabel(e)}addAttributes(e){void 0!==e.classNames&&this.setCssClasses(e.classNames)}addInputAndLabel(e){void 0!==e.textContent&&this.setTextContent(e.textContent),void 0!==e.attributes&&this.setInputAttributes(e.attributes),e.attributes?.name&&this.setLabelAttributes(e.attributes.name),void 0!==e.callback&&void 0!==e.event&&this.setCallback(e.event,e.callback),this.element.append(this.labelElement,this.inputElement)}setValue(e){this.inputElement.value=e}setTextContent(e){this.labelElement.textContent=e}setInputAttributes(e){Object.keys(e).forEach((t=>{this.inputElement.setAttribute(t,e[t])}))}setLabelAttributes(e){this.labelElement.setAttribute("for",e)}setCallback(e,t){this.inputElement.addEventListener(e,(e=>t(e)))}}class i{viewElement;constructor(e){this.viewElement=this.createView(e)}getHtmlElement(){return this.viewElement.getElement()}createView(e){const t={tag:e.tag,classNames:e.classNames};return this.viewElement=new s(t),this.viewElement}}function a(e,t){return function(){return e.apply(t,arguments)}}const{toString:c}=Object.prototype,{getPrototypeOf:l}=Object,d=(u=Object.create(null),e=>{const t=c.call(e);return u[t]||(u[t]=t.slice(8,-1).toLowerCase())});var u;const p=e=>(e=e.toLowerCase(),t=>d(t)===e),h=e=>t=>typeof t===e,{isArray:m}=Array,f=h("undefined"),g=p("ArrayBuffer"),b=h("string"),y=h("function"),w=h("number"),A=e=>null!==e&&"object"==typeof e,E=e=>{if("object"!==d(e))return!1;const t=l(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},C=p("Date"),v=p("File"),S=p("Blob"),L=p("FileList"),k=p("URLSearchParams");function x(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,s;if("object"!=typeof e&&(e=[e]),m(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let i;for(r=0;r<o;r++)i=s[r],t.call(null,e[i],i,e)}}function P(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,O=e=>!f(e)&&e!==_,R=(T="undefined"!=typeof Uint8Array&&l(Uint8Array),e=>T&&e instanceof T);var T;const N=p("HTMLFormElement"),B=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),D=p("RegExp"),I=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};x(n,((n,s)=>{let o;!1!==(o=t(n,s,e))&&(r[s]=o||n)})),Object.defineProperties(e,r)},U="abcdefghijklmnopqrstuvwxyz",q="0123456789",j={DIGIT:q,ALPHA:U,ALPHA_DIGIT:U+U.toUpperCase()+q},F=p("AsyncFunction"),H={isArray:m,isArrayBuffer:g,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=d(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&g(e.buffer),t},isString:b,isNumber:w,isBoolean:e=>!0===e||!1===e,isObject:A,isPlainObject:E,isUndefined:f,isDate:C,isFile:v,isBlob:S,isRegExp:D,isFunction:y,isStream:e=>A(e)&&y(e.pipe),isURLSearchParams:k,isTypedArray:R,isFileList:L,forEach:x,merge:function e(){const{caseless:t}=O(this)&&this||{},n={},r=(r,s)=>{const o=t&&P(n,s)||s;E(n[o])&&E(r)?n[o]=e(n[o],r):E(r)?n[o]=e({},r):m(r)?n[o]=r.slice():n[o]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&x(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(x(t,((t,r)=>{n&&y(t)?e[r]=a(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],r&&!r(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==n&&l(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:d,kindOfTest:p,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(m(e))return e;let t=e.length;if(!w(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:N,hasOwnProperty:B,hasOwnProp:B,reduceDescriptors:I,freezeMethods:e=>{I(e,((t,n)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];y(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return m(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:P,global:_,isContextDefined:O,ALPHABET:j,generateString:(e=16,t=j.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(A(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=m(e)?[]:{};return x(e,((e,t)=>{const o=n(e,r+1);!f(o)&&(s[t]=o)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:F,isThenable:e=>e&&(A(e)||y(e))&&y(e.then)&&y(e.catch)};function M(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}H.inherits(M,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const z=M.prototype,J={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{J[e]={value:e}})),Object.defineProperties(M,J),Object.defineProperty(z,"isAxiosError",{value:!0}),M.from=(e,t,n,r,s,o)=>{const i=Object.create(z);return H.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),M.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const V=M;function W(e){return H.isPlainObject(e)||H.isArray(e)}function G(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function Q(e,t,n){return e?e.concat(t).map((function(e,t){return e=G(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Y=H.toFlatObject(H,{},null,(function(e){return/^is[A-Z]/.test(e)})),Z=function(e,t,n){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!H.isUndefined(t[e])}))).metaTokens,s=n.visitor||l,o=n.dots,i=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(s))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(H.isDate(e))return e.toISOString();if(!a&&H.isBlob(e))throw new V("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(e)||H.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,s){let a=e;if(e&&!s&&"object"==typeof e)if(H.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(H.isArray(e)&&function(e){return H.isArray(e)&&!e.some(W)}(e)||(H.isFileList(e)||H.endsWith(n,"[]"))&&(a=H.toArray(e)))return n=G(n),a.forEach((function(e,r){!H.isUndefined(e)&&null!==e&&t.append(!0===i?Q([n],r,o):null===i?n:n+"[]",c(e))})),!1;return!!W(e)||(t.append(Q(s,n,o),c(e)),!1)}const d=[],u=Object.assign(Y,{defaultVisitor:l,convertValue:c,isVisitable:W});if(!H.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!H.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),H.forEach(n,(function(n,o){!0===(!(H.isUndefined(n)||null===n)&&s.call(t,n,H.isString(o)?o.trim():o,r,u))&&e(n,r?r.concat(o):[o])})),d.pop()}}(e),t};function X(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function K(e,t){this._pairs=[],e&&Z(e,this,t)}const $=K.prototype;$.append=function(e,t){this._pairs.push([e,t])},$.toString=function(e){const t=e?function(t){return e.call(this,t,X)}:X;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ee=K;function te(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ne(e,t,n){if(!t)return e;const r=n&&n.encode||te,s=n&&n.serialize;let o;if(o=s?s(t,n):H.isURLSearchParams(t)?t.toString():new ee(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const re=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},se={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oe={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ee,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},ie=function(e){function t(e,n,r,s){let o=e[s++];const i=Number.isFinite(+o),a=s>=e.length;return o=!o&&H.isArray(r)?r.length:o,a?(H.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!i):(r[o]&&H.isObject(r[o])||(r[o]=[]),t(e,n,r[o],s)&&H.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}(r[o])),!i)}if(H.isFormData(e)&&H.isFunction(e.entries)){const n={};return H.forEachEntry(e,((e,r)=>{t(function(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null},ae={transitional:se,adapter:oe.isNode?"http":"xhr",transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=H.isObject(e);if(s&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return r&&r?JSON.stringify(ie(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Z(e,new oe.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return oe.isNode&&H.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=H.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Z(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(H.isString(e))try{return(0,JSON.parse)(e),H.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ae.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&H.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw V.from(e,V.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oe.classes.FormData,Blob:oe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],(e=>{ae.headers[e]={}}));const ce=ae,le=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),de=Symbol("internals");function ue(e){return e&&String(e).trim().toLowerCase()}function pe(e){return!1===e||null==e?e:H.isArray(e)?e.map(pe):String(e)}function he(e,t,n,r,s){return H.isFunction(r)?r.call(this,t,n):(s&&(t=n),H.isString(t)?H.isString(r)?-1!==t.indexOf(r):H.isRegExp(r)?r.test(t):void 0:void 0)}class me{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=ue(t);if(!s)throw new Error("header name must be a non-empty string");const o=H.findKey(r,s);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=pe(e))}const o=(e,t)=>H.forEach(e,((e,n)=>s(e,n,t)));return H.isPlainObject(e)||e instanceof this.constructor?o(e,t):H.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&le[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&s(t,e,n),this}get(e,t){if(e=ue(e)){const n=H.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(H.isFunction(t))return t.call(this,e,n);if(H.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ue(e)){const n=H.findKey(this,e);return!(!n||void 0===this[n]||t&&!he(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=ue(e)){const s=H.findKey(n,e);!s||t&&!he(0,n[s],s,t)||(delete n[s],r=!0)}}return H.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!he(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return H.forEach(this,((r,s)=>{const o=H.findKey(n,s);if(o)return t[o]=pe(r),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();i!==s&&delete t[s],t[i]=pe(r),n[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&H.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[de]=this[de]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ue(e);t[r]||(function(e,t){const n=H.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return H.isArray(e)?e.forEach(r):r(e),this}}me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),H.reduceDescriptors(me.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),H.freezeMethods(me);const fe=me;function ge(e,t){const n=this||ce,r=t||n,s=fe.from(r.headers);let o=r.data;return H.forEach(e,(function(e){o=e.call(n,o,s.normalize(),t?t.status:void 0)})),s.normalize(),o}function be(e){return!(!e||!e.__CANCEL__)}function ye(e,t,n){V.call(this,null==e?"canceled":e,V.ERR_CANCELED,t,n),this.name="CanceledError"}H.inherits(ye,V,{__CANCEL__:!0});const we=ye,Ae=oe.isStandardBrowserEnv?{write:function(e,t,n,r,s,o){const i=[];i.push(e+"="+encodeURIComponent(t)),H.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),H.isString(r)&&i.push("path="+r),H.isString(s)&&i.push("domain="+s),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Ee(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ce=oe.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=H.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function ve(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,o=0,i=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=r[i];s||(s=c),n[o]=a,r[o]=c;let d=i,u=0;for(;d!==o;)u+=n[d++],d%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),c-s<t)return;const p=l&&c-l;return p?Math.round(1e3*u/p):void 0}}(50,250);return s=>{const o=s.loaded,i=s.lengthComputable?s.total:void 0,a=o-n,c=r(a);n=o;const l={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&o<=i?(i-o)/c:void 0,event:s};l[t?"download":"upload"]=!0,e(l)}}const Se={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const s=fe.from(e.headers).normalize(),o=e.responseType;let i;function a(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}H.isFormData(r)&&(oe.isStandardBrowserEnv||oe.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(t+":"+n))}const l=Ee(e.baseURL,e.url);function d(){if(!c)return;const r=fe.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),a()}),(function(e){n(e),a()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),ne(l,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(d)},c.onabort=function(){c&&(n(new V("Request aborted",V.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new V("Network Error",V.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||se;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new V(t,r.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,c)),c=null},oe.isStandardBrowserEnv){const t=(e.withCredentials||Ce(l))&&e.xsrfCookieName&&Ae.read(e.xsrfCookieName);t&&s.set(e.xsrfHeaderName,t)}void 0===r&&s.setContentType(null),"setRequestHeader"in c&&H.forEach(s.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),H.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&"json"!==o&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",ve(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",ve(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{c&&(n(!t||t.type?new we(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const u=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(l);u&&-1===oe.protocols.indexOf(u)?n(new V("Unsupported protocol "+u+":",V.ERR_BAD_REQUEST,e)):c.send(r||null)}))}};H.forEach(Se,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Le=e=>{e=H.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let s=0;s<t&&(n=e[s],!(r=H.isString(n)?Se[n.toLowerCase()]:n));s++);if(!r){if(!1===r)throw new V(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(H.hasOwnProp(Se,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!H.isFunction(r))throw new TypeError("adapter is not a function");return r};function ke(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new we(null,e)}function xe(e){return ke(e),e.headers=fe.from(e.headers),e.data=ge.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Le(e.adapter||ce.adapter)(e).then((function(t){return ke(e),t.data=ge.call(e,e.transformResponse,t),t.headers=fe.from(t.headers),t}),(function(t){return be(t)||(ke(e),t&&t.response&&(t.response.data=ge.call(e,e.transformResponse,t.response),t.response.headers=fe.from(t.response.headers))),Promise.reject(t)}))}const Pe=e=>e instanceof fe?e.toJSON():e;function _e(e,t){t=t||{};const n={};function r(e,t,n){return H.isPlainObject(e)&&H.isPlainObject(t)?H.merge.call({caseless:n},e,t):H.isPlainObject(t)?H.merge({},t):H.isArray(t)?t.slice():t}function s(e,t,n){return H.isUndefined(t)?H.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!H.isUndefined(t))return r(void 0,t)}function i(e,t){return H.isUndefined(t)?H.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,s,o){return o in t?r(n,s):o in e?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t)=>s(Pe(e),Pe(t),!0)};return H.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=c[r]||s,i=o(e[r],t[r],r);H.isUndefined(i)&&o!==a||(n[r]=i)})),n}const Oe={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Oe[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Re={};Oe.transitional=function(e,t,n){function r(e,t){return"[Axios v1.5.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,o)=>{if(!1===e)throw new V(r(s," has been removed"+(t?" in "+t:"")),V.ERR_DEPRECATED);return t&&!Re[s]&&(Re[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,o)}};const Te={assertOptions:function(e,t,n){if("object"!=typeof e)throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const t=e[o],n=void 0===t||i(t,o,e);if(!0!==n)throw new V("option "+o+" must be "+n,V.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new V("Unknown option "+o,V.ERR_BAD_OPTION)}},validators:Oe},Ne=Te.validators;class Be{constructor(e){this.defaults=e,this.interceptors={request:new re,response:new re}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=_e(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Te.assertOptions(n,{silentJSONParsing:Ne.transitional(Ne.boolean),forcedJSONParsing:Ne.transitional(Ne.boolean),clarifyTimeoutError:Ne.transitional(Ne.boolean)},!1),null!=r&&(H.isFunction(r)?t.paramsSerializer={serialize:r}:Te.assertOptions(r,{encode:Ne.function,serialize:Ne.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&H.merge(s.common,s[t.method]);s&&H.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=fe.concat(o,s);const i=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let d,u=0;if(!a){const e=[xe.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,c),d=e.length,l=Promise.resolve(t);u<d;)l=l.then(e[u++],e[u++]);return l}d=i.length;let p=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{p=e(p)}catch(e){t.call(this,e);break}}try{l=xe.call(this,p)}catch(e){return Promise.reject(e)}for(u=0,d=c.length;u<d;)l=l.then(c[u++],c[u++]);return l}getUri(e){return ne(Ee((e=_e(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],(function(e){Be.prototype[e]=function(t,n){return this.request(_e(n||{},{method:e,url:t,data:(n||{}).data}))}})),H.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(_e(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Be.prototype[e]=t(),Be.prototype[e+"Form"]=t(!0)}));const De=Be;class Ie{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new we(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ie((function(t){e=t})),cancel:e}}}const Ue=Ie,qe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qe).forEach((([e,t])=>{qe[t]=e}));const je=qe,Fe=function e(t){const n=new De(t),r=a(De.prototype.request,n);return H.extend(r,De.prototype,n,{allOwnKeys:!0}),H.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(_e(t,n))},r}(ce);Fe.Axios=De,Fe.CanceledError=we,Fe.CancelToken=Ue,Fe.isCancel=be,Fe.VERSION="1.5.0",Fe.toFormData=Z,Fe.AxiosError=V,Fe.Cancel=Fe.CanceledError,Fe.all=function(e){return Promise.all(e)},Fe.spread=function(e){return function(t){return e.apply(null,t)}},Fe.isAxiosError=function(e){return H.isObject(e)&&!0===e.isAxiosError},Fe.mergeConfig=_e,Fe.AxiosHeaders=fe,Fe.formToJSON=e=>ie(H.isHTMLForm(e)?new FormData(e):e),Fe.getAdapter=Le,Fe.HttpStatusCode=je,Fe.default=Fe;const He=Fe,Me="rs-school-ecommerce-application",ze="xnIExDv_L553zLUH71kjVzANZ_7bfwyn",Je="n6NhHNp-SoFneLzkbs6qXWuu",Ve="https://auth.europe-west1.gcp.commercetools.com",We="https://api.europe-west1.gcp.commercetools.com",Ge="manage_project:rs-school-ecommerce-application";async function Qe(){const e={url:`${Ve}/oauth/token`,method:"post",params:{grant_type:"client_credentials",scope:Ge},auth:{username:Je,password:ze}};return(await He(e)).data.access_token}async function Ye(e,t){const n=(await Qe()).toString();return await He.post(`${We}/${Me}/customers/${e}`,t,{headers:{Authorization:`Bearer ${n}`}})}async function Ze(e,t){const n=(await Qe()).toString(),r=(await async function(e,t){const n={url:`${Ve}/oauth/${Me}/customers/token`,method:"post",data:`grant_type=password&username=${e}&password=${t}&scope=${Ge}`,auth:{username:Je,password:ze}};return(await He(n)).data.refresh_token}(e,t)).toString();return localStorage.setItem("refresh_token",r),await He.post(`${We}/${Me}/me/login`,{email:e,password:t},{headers:{Authorization:`Bearer ${n}`}})}function Xe(e,t){const n=document.createElement("div");n.classList.add("modal");const r=document.createElement("p"),s=document.createElement("p");n.append(r,s),200===t?(r.innerText="✔️Login successfully completed",s.innerText="Welcome"):(r.innerText=`❌${e}`,s.innerText="Incorrect email or password"),document.body.appendChild(n)}function Ke(){const e=document.querySelector(".modal");e&&e.remove()}function $e(e){return document.getElementById(e).value}const et={titleParametrs:{tag:"h3",classNames:["login__title"],textContent:"Login"},formParametrs:{tag:"form",classNames:["login__form"],event:"submit",callback:function(e){e.preventDefault();const t={email:$e("email"),password:$e("password")};Ze(t.email,t.password).then((()=>{localStorage.setItem("isLoggedIn","true"),window.location.hash="/";const e=document.querySelector(".item-client .login"),n=document.querySelector(".item-client .register");return e&&n&&(e.textContent="Profile",n.textContent="LogOut"),Xe("Login successfully completed",200),setTimeout(Ke,3e3),t})).catch((e=>{Xe(`${e.message}`,e.code),setTimeout(Ke,3e3)}))},attributes:{novalidate:""}},emailParametrs:{tag:"div",classNames:["input__container","email"],event:"input",callback:function(){const e=document.getElementById("email"),t=document.getElementById("emailError");e instanceof HTMLInputElement&&t&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)?(e.classList.remove("invalid"),t.innerHTML=""):(e.classList.add("invalid"),t.innerHTML="Email address must be properly formatted (e.g., user@example.com."))},attributes:{type:"email",placeholder:"email",id:"email",name:"email"}},passwordParametrs:{tag:"div",classNames:["input__container","password"],event:"input",callback:function(){const e=document.getElementById("password"),t=document.getElementById("passwordError");e instanceof HTMLInputElement&&t&&(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?!.*\s).{8,}$/.test(e.value)?(e.classList.remove("invalid"),t.innerHTML=""):(e.classList.add("invalid"),t.innerHTML="Password must contain at least 8 characters, at least one uppercase letter (A-Z) and one lowercase letter (a-z), one digit (0-9) and must not contain leading or trailing whitespace."))},attributes:{type:"password",placeholder:"password",id:"password",name:"password"}},buttonParametrs:{tag:"button",classNames:["login__button"],textContent:"Sign in",attributes:{type:"submit"}},registationLinkParametrs:{tag:"a",classNames:["login__link","link_to_register"],textContent:"Register now",attributes:{href:"#/register"}},showPasswordImgParametrs:{tag:"div",classNames:["closePassword"],event:"click",callback:function(){const e=document.getElementById("password"),t=document.querySelector(".closePassword");e instanceof HTMLInputElement&&t&&("password"===e.type?(e.type="text",t.classList.add("openPassword")):(e.type="password",t.classList.remove("openPassword")))}},emailError:{tag:"span",classNames:["emailError"],attributes:{id:"emailError"}},passwordError:{tag:"span",classNames:["passwordError"],attributes:{id:"passwordError"}},loginError:{tag:"span",classNames:["loginError"],attributes:{id:"loginError"}}};class tt extends i{constructor(){super({tag:"div",classNames:["login__section"]}),this.configureView()}configureView(){const e=new s(et.titleParametrs),t=new s(et.formParametrs),n=new o(et.emailParametrs),r=new s(et.emailError),i=new o(et.passwordParametrs),a=new s(et.passwordError),c=new s(et.showPasswordImgParametrs);i.addInnerElement([c]);const l=new s(et.buttonParametrs);t.addInnerElement([n,r,i,a,l]);const d=new s(et.registationLinkParametrs),u=new s(et.loginError);this.viewElement.addInnerElement([e,t,d,u])}}class nt{main;constructor(){this.main=document.getElementById("main")}draw(){this.main.innerHTML='\n    <section class="registration">\n      <h2 class="registration__title">Registration</h2>\n      <form class="registration__form reg-form">\n        <fieldset class="reg-form__user fieldset">\n          <legend class="fieldset__legend">User</legend>\n          <label class="reg-form__label" for="email">E-mail</label>\n          <input class="reg-form__input" type="email" name="email" id="email">\n          <p class="error"></p>\n          <label class="reg-form__label" for="pass">Password</label>\n          <input class="reg-form__input" type="password" name="pass" id="pass">\n          <p class="error"></p>\n        </fieldset>\n        <fieldset class="reg-form__person fieldset">\n          <legend class="fieldset__legend">Person</legend>\n          <label class="reg-form__label" for="fname">First name</label>\n          <input type="text" name="fname" id="fname">\n          <p class="error"></p>\n          <label class="reg-form__label" for="lname">Last name</label>\n          <input type="text" name="lname" id="lname">\n          <p class="error"></p>\n          <label class="reg-form__label" for="bdate">Birthday</label>\n          <input type="date" name="bdate" id="bdate">\n          <p class="error"></p>\n        </fieldset>\n        <div class="reg-form__address-wrap">\n        </div>\n        <input class="reg-form__addAddrr" type="button" value="Add address">\n        <input id="submit" type="submit" value="Submit">\n        <p class="error"></p>\n      </form>\n      <a href="#/login" class="button-link">I already have a login</a>\n    </section>\n    <div class="message">\n    </div>'}returnRegistrationForm(){return this.main.querySelector(".reg-form")}addAddressListener(){const e=this.main.querySelector(".reg-form__addAddrr"),t=this.main.querySelector(".reg-form__address-wrap");function n(){const e=document.querySelectorAll(".reg-form__address").length,n=document.createElement("fieldset");n.setAttribute("id",`address-${e}`),n.classList.add("reg-form__address","fieldset"),n.innerHTML=`\n      <legend class="fieldset__legend">Address</legend>\n            <label class="reg-form__label" for="street-${e}">Street</label>\n            <input type="text" name="street" id="street-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" for="city-${e}">City</label>\n            <input type="text" name="city" id="city-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" for="pcode-${e}">Postal code</label>\n            <input type="text" name="pcode" id="pcode-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" for="country-${e}">Country</label>\n            <input type="text" name="country" id="country-${e}" value="US" disabled>\n            <p class="error"></p>\n            <div class="check-box">\n            <label class="reg-form__label" for="baddress-${e}">Billing Address</label>\n            <input type="checkbox" name="baddress" id="baddress-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" for="saddress-${e}">Shipping Address</label>\n            <input type="checkbox" name="saddress" id="saddress-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" id="defualt" for="dbaddress-${e}">Default Billing Address</label>\n            <input type="checkbox" name="dbaddress" id="dbaddress-${e}">\n            <p class="error"></p>\n            <label class="reg-form__label" id="defualt" for="dsaddress-${e}">Default Shipping Address</label>\n            <input type="checkbox" name="dsaddress" id="dsaddress-${e}">\n            <p class="error"></p>`,t.appendChild(n)}n(),e.addEventListener("click",n)}checkForm(){const e=this.returnRegistrationForm();function t(){return document.querySelectorAll(".reg-form__address").length}function n(e,t){t.innerHTML=e,t.classList.add("error_active")}function r(e){e.innerText="",e.classList.remove("error_active")}function s(e){return document.querySelector(`#${e} ~ .error`)}function o(e){return document.getElementById(e).value}function i(){const e=o("email"),t=s("email");e.match(/[-.\w]+@([\w-]+\.)+[\w-]+/g)?r(t):n("Email is wrong. Correct e-mail looks like <em>test@test.test</em>.",t)}function a(){const e=o("pass"),t=s("pass");e.length<8?n("Password length must be at least 8 characters.",t):e.match(/[A-Z]/)?e.match(/[0-9]/)?r(t):n("Password must have at least one digit.",t):n("Password must have at least one uppercase letter.",t)}function c(e){return Boolean(e.match(/[^a-z]/i)||!e.length)}function l(){const e=o("fname"),t=s("fname");c(e)?n("First name must contain at least one character and no special characters or numbers.",t):r(t)}function d(){const e=o("lname"),t=s("lname");c(e)?n("Last name must contain at least one character and no special characters or numbers.",t):r(t)}function u(){const e=o("bdate"),t=s("bdate"),i=Date.parse(e),a=new Date;Date.parse(`${a.getFullYear()-13}-${a.getMonth()+1}-${a.getDate()}`)-i<0||!i?n("13 is the minimum age to be registered user.",t):r(t)}function p(){for(let e=0;e<t();e+=1){const t=o(`street-${e}`),i=s(`street-${e}`);t.match(/[^a-zA-Z0-9-]/i)||t.length?r(i):n("Street field must contain at least one character.",i)}}function h(){for(let e=0;e<t();e+=1){const t=o(`city-${e}`),i=s(`city-${e}`);c(t)?n("City field must contain at least one character and no special characters or numbers.",i):r(i)}}function m(){for(let e=0;e<t();e+=1){const t=o(`pcode-${e}`),i=s(`pcode-${e}`);t.match(/\D/)||5!==t.length?n("Postal code field must follow the format for the country (e.g., 12345 for the U.S.).",i):r(i)}}function f(e){const t=e.target,n=t.id;if("email"===n)i();else if("pass"===n)a();else if("fname"===n)l();else if("lname"===n)d();else if("bdate"===n)u();else if(n.startsWith("street"))p();else if(n.startsWith("city"))h();else if(n.startsWith("pcode"))m();else if(n.startsWith("dbaddress-")){const e=document.querySelectorAll('input[type="checkbox"]'),r=document.getElementById(`baddress-${n.match(/\d+/)}`);e.forEach((e=>{e.id.startsWith("dbaddress-")&&e.checked&&(e.checked=!1)})),r.checked=!0,t.checked=!0}else if(n.startsWith("dsaddress-")){const e=document.querySelectorAll('input[type="checkbox"]');document.getElementById(`saddress-${n.match(/\d+/)}`).checked=!0,e.forEach((e=>{e.id.startsWith("dsaddress-")&&e.checked&&(e.checked=!1)})),t.checked=!0}}function g(e){const t=document.querySelector(".message");t.textContent=e,t.classList.add("message_active")}function b(){const e=document.querySelector(".message_active");null!==e&&(e.textContent="",e.classList.remove("message_active"))}function y(e){if(e.preventDefault(),i(),a(),l(),d(),u(),p(),h(),m(),null!==document.querySelector(".error_active")){const e=s("submit");n("It's at least one error on page. Change input values and try submit again.",e),setTimeout((()=>r(e)),5e3)}else!async function(){const e=o("email"),t=o("pass"),n=o("fname"),r=o("lname");let s;(async function(e,t,n,r){const s=(await Qe()).toString();return await He.post(`${We}/${Me}/me/signup`,{firstName:n,lastName:r,email:e,password:t},{headers:{Authorization:`Bearer ${s}`}})})(e,t,n,r).then((e=>{s=e.data.customer.id,console.log("User data posted successfully!")})).catch((e=>{throw console.error("An error occurred while posting customer:",e.message),e})).then((()=>function(e){const t={version:1,actions:[{action:"setFirstName",firstName:o("fname")},{action:"setLastName",lastName:o("lname")},{action:"setDateOfBirth",dateOfBirth:o("bdate")}]},n=document.querySelectorAll(".reg-form__address");for(let e=0;e<n.length;e+=1){const n=document.getElementById(`street-${e}`).value,r=document.getElementById(`city-${e}`).value,s={action:"addAddress",address:{streetName:n,postalCode:document.getElementById(`pcode-${e}`).value,city:r,country:"US"}};t.actions.push(s)}const r=document.querySelectorAll('input[type="checkbox"]'),s=[];r.forEach((e=>{e.checked&&s.push(e.id)}));let i=[],a=0;Ye(e,t).then((e=>{const{data:t}=e;i=t.addresses,a=t.version})).then((()=>{const t={version:a,actions:[]};s.forEach((e=>{const n=i[+`${e.match(/\d+/)}`].id;let r={action:"addBillingAddressId",addressId:n};e.startsWith("saddress")?r={action:"addShippingAddressId",addressId:n}:e.startsWith("dbaddress")?r={action:"setDefaultBillingAddress",addressId:n}:e.startsWith("dsaddress")&&(r={action:"setDefaultShippingAddress",addressId:n}),t.actions.push(r)})),Ye(e,t).catch((e=>g(e.message)))}))}(s))).then((()=>{console.log("User data updated successfully!")})).catch((e=>{throw console.error("An error occurred while updating customer info:",e.message),e})).then((()=>Ze(e,t))).then((e=>{console.log(e),console.log("User logged in successfully after update!"),g("User successfully created and logged in."),document.querySelectorAll("input").forEach((e=>{var t;["email","password","date"].includes((t=e).type)||"text"===t.type&&!t.id.startsWith("country")?t.value="":"checkbox"===t.type&&(t.checked=!1)})),localStorage.setItem("isLoggedIn","true"),setTimeout((()=>{b(),window.location.hash="/";const e=document.querySelector(".item-client .login"),t=document.querySelector(".item-client .register");e&&t&&(e.textContent="Profile",t.textContent="LogOut")}),5e3)})).catch((e=>{console.error("An error occurred during login:",e.message),g(e.message),setTimeout((()=>b()),5e3)}))}()}e.addEventListener("focusout",f),e.addEventListener("input",f),e.addEventListener("submit",y),window.addEventListener("beforeunload",(function t(){e.removeEventListener("focusout",f),e.removeEventListener("submit",y),window.removeEventListener("beforeunload",t)}))}}const rt=e.p+"23b8fa5f256676a53da3.jpg",st=e.p+"220d09ae06791f9e5ecd.jpg",ot=e.p+"3ebd73fe8330a2fc828e.png";class it{productDivs;data;filteredProductdivs;constructor(){this.productDivs=[],this.data=[],this.filteredProductdivs=[]}async createProducts(){try{this.productDivs=[];const e=(await async function(){const e=(await Qe()).toString(),t={url:`${We}/${Me}/product-projections`,method:"get",params:{limit:500},headers:{Authorization:`Bearer ${e}`}};return await He(t)}()).data.results;return this.data=e,console.log(this.data),e.forEach((e=>{const t=e.categories[0].id,n=e.id,r=document.createElement("div");r.id=n,r.classList.add("product__cart"),r.setAttribute("data-category",t);const s=document.createElement("img");s.classList.add("product__img"),s.src=e.masterVariant.images[0].url,s.alt=e.name["en-US"],r.appendChild(s);const o=document.createElement("p");o.classList.add("product__title"),o.textContent=e.name["en-US"],r.appendChild(o);const i=document.createElement("p");i.classList.add("product__description"),i.textContent=e.description["en-US"],r.appendChild(i);const a=document.createElement("div");a.classList.add("product__price");const c=document.createElement("p"),l=(e.masterVariant.prices[0].value.centAmount/100).toString();c.textContent=`${l}$`,a.appendChild(c);const d=e.masterVariant.prices[0].discounted?.value.centAmount;if(d){const e=(d/100).toString(),t=document.createElement("p");t.classList.add("discounted__price"),c.classList.add("previous__price"),t.textContent=`${e}$`,a.appendChild(t)}r.appendChild(a),this.productDivs.push(r)})),this.productDivs}catch(e){return console.error(e),[]}}}class at{sortBlock;categoryDropdown;leftsideSortBlock;rightsideSortBlock;nameSortDropdown;priceSortDropdown;selectedCategory;searchInput;constructor(){this.sortBlock=document.createElement("div"),this.categoryDropdown=document.createElement("select"),this.leftsideSortBlock=document.createElement("div"),this.rightsideSortBlock=document.createElement("div"),this.searchInput=document.createElement("input"),this.selectedCategory="all products",this.setupSortBlock(),this.createCategoryDropdown(),this.createFilters("all products"),this.createPriceAndNameSortDropdowns()}setupSortBlock(){this.sortBlock?.classList.add("sort__container"),this.categoryDropdown?.classList.add("category__dropdown"),this.leftsideSortBlock?.classList.add("sort__container-left"),this.rightsideSortBlock?.classList.add("sort__container-right"),this.leftsideSortBlock&&this.sortBlock?.appendChild(this.leftsideSortBlock),this.rightsideSortBlock&&this.sortBlock?.appendChild(this.rightsideSortBlock),this.createSearchInput()}createSearchInput(){this.searchInput.type="text",this.searchInput.placeholder="I search...",this.searchInput.classList.add("search__input"),this.nameSortDropdown=document.createElement("select"),this.leftsideSortBlock?.appendChild(this.searchInput)}createCategoryDropdown(){["all products","dishes","paintings","jewellery","coins"].forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e.charAt(0).toUpperCase()+e.slice(1),this.categoryDropdown?.appendChild(t)})),this.categoryDropdown&&this.leftsideSortBlock?.appendChild(this.categoryDropdown)}createFilters(e){const t=this.leftsideSortBlock?.querySelector(".filters__container");t&&t.remove();const n=document.createElement("div");if(n.classList.add("filters__container"),"dishes"===e){const e=this.createDropdownWithCheckboxes("Material",["Venetian glass","Porcelain","Crystal","Silver"]),t=this.createDropdownWithCheckboxes("Type",["Plate","Teapot","Cup"]);n.appendChild(e),n.appendChild(t)}else if("paintings"===e){const e=this.createDropdownWithCheckboxes("Origin",["Asia","Europe","America"]),t=this.createDropdownWithCheckboxes("Genre",["Portrait","Landscape","Seascape","Caricature","Still life","Abstraction"]);n.appendChild(e),n.appendChild(t)}else if("jewellery"===e){const e=this.createDropdownWithCheckboxes("Type",["Ring","Necklace","Earrings"]),t=this.createDropdownWithCheckboxes("Material",["Yellow gold","Diamond","Topaz","Amethyst","Zircon"]);n.appendChild(e),n.appendChild(t)}else if("coins"===e){const e=this.createDropdownWithCheckboxes("Origin",["Asia","Europe","America"]),t=this.createDropdownWithCheckboxes("Material",["Yellow gold","Silver"]);n.appendChild(e),n.appendChild(t)}else{const e=["Yellow gold","Silver","Diamond","Topaz","Amethyst","Zircon","Venetian glass","Porcelain","Crystal"],t=["Plate","Teapot","Cup","Ring","Necklace","Earrings"],r=["Portrait","Landscape","Seascape","Caricature","Still life","Abstraction"],s=["Asia","Europe","America"],o=this.createDropdownWithCheckboxes("Material",e),i=this.createDropdownWithCheckboxes("Type",t),a=this.createDropdownWithCheckboxes("Gerne",r),c=this.createDropdownWithCheckboxes("Origin",s);n.appendChild(a),n.appendChild(c),n.appendChild(o),n.appendChild(i)}this.leftsideSortBlock?.appendChild(n)}createDropdownWithCheckboxes(e,t){const n=document.createElement("div"),r=document.createElement("p");return r.textContent=`${e}:`,n.appendChild(r),t.forEach((e=>{const t=document.createElement("label"),r=document.createElement("input");r.classList.add("checkbox"),r.type="checkbox",r.value=e,t.appendChild(r),t.appendChild(document.createTextNode(e)),n.appendChild(t)})),n}createSortDropdown(e,t,n){const r=document.createElement("label");r.textContent=t,r.classList.add("sort__label");const s=document.createElement("select");s.classList.add("sort__dropdown"),e.forEach((e=>{const t=document.createElement("option");t.textContent=e,s.appendChild(t)})),r.appendChild(s),n.appendChild(r),"Price:"===t?this.priceSortDropdown=s:"Name:"===t&&(this.nameSortDropdown=s)}createPriceAndNameSortDropdowns(){const e=document.createElement("div");e.classList.add("sort__block"),this.createSortDropdown(["Sort","Price: Low to High","Price: High to Low"],"Price:",e),this.createSortDropdown(["Sort","Name: A to Z","Name: Z to A"],"Name:",e),this.rightsideSortBlock?.appendChild(e)}}class ct{header;footer;main;body;templates={};registration;sorting;products;productContainer;constructor(){this.body=document.querySelector("body"),this.header=this.createHeader(),this.main=this.createMain(),this.footer=this.createFooter(),this.productContainer=document.createElement("div"),this.productContainer.classList.add("product__container"),this.products=new it,this.sorting=new at,this.registration=new nt}registerTemplate(e,t){this.templates[e]=t}getTemplateFunction(e){const t=this.templates[e];if(!t)throw new Error(`Template function for "${e}" not found.`);return t}showHomePage(){const e=document.querySelector(".burger__menu-icon");e?.classList.remove("dark__color");const t=document.querySelector(".item-basket img"),s=document.querySelector(".item-basket div");t.src=r,s.style.border="2px solid #e4d4be",this.main.innerHTML="",this.header.style.color="#e4d4be";const o=["img-background","dark-background","light-background","dark-background"],i=["welcome__section","new-collection__section","special-offer__section","contact__section"],a=[`${n.welcome}`,`${n.collection}`,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Feugiat enim tortor in hac id imperdiet adipiscing. Pellentesque nisi, mi sit non sit sed fermentum. Felis adipiscing morbi sodales ac. Mauris dictumst risus pulvinar blandit elit. Vestibulum quam ultrices nascetur et viverra suscipit. Proin vitae aliquet leo aliquam amet rutrum. Lectus auctor purus ultrices enim ultrices. Augue fringilla tellus tortor orci ultrices sed. Viverra cras sapien, pellentesque viverra malesuada. Tellus dolor, eget vitae dignissim molestie eget sit duis. Vitae dui vel pretium euismod diam. Pellentesque amet, lacus, amet, quis risus. Pellentesque scelerisque nunc, orci aliquam quis."];for(let e=0;e<4;e+=1){const t=document.createElement("div");t.classList.add("background",o[e]);const n=document.createElement("div");n.classList.add("wrapper"),t.appendChild(n);const r=document.createElement("section");if(r.classList.add("section",i[e]),n.appendChild(r),r.classList.contains("welcome__section")){const t=document.createElement("p");t.textContent=a[e],r.appendChild(t)}if(r.classList.contains("new-collection__section")){const t=document.createElement("div");t.classList.add("newCollection__content");const n=document.createElement("img");n.classList.add("newCollectionDiv__img"),n.src=rt,t.appendChild(n);const s=document.createElement("div");s.classList.add("newCollection_rigth_content");const o=document.createElement("p");o.textContent=a[e];const i=document.createElement("div"),c=document.createElement("div");c.textContent="TO BUY OUR PRODUCTS",i.classList.add("buy__block");const l=document.createElement("btn__block");l.classList.add("btn__block");const d=document.createElement("button");d.classList.add("login_btn"),d.textContent="LOGIN",d.onclick=()=>{"true"===localStorage.getItem("isLoggedIn")&&localStorage.getItem("isLoggedIn")?window.location.hash="/":window.location.hash="/login"};const u=document.createElement("button");u.classList.add("reg_btn"),u.textContent="REGISTER","true"===localStorage.getItem("isLoggedIn")?u.disabled=!0:u.onclick=()=>{window.location.hash="/register"},l.appendChild(u),l.appendChild(d),i.appendChild(c),i.appendChild(l),s.appendChild(o),s.appendChild(i),t.appendChild(s),r.appendChild(t)}if(r.classList.contains("special-offer__section")){const t=document.createElement("h2");t.textContent="Special Offer",r.appendChild(t);const n=document.createElement("div");n.classList.add("special-offer__content");const s=document.createElement("p");s.textContent=a[e],n.appendChild(s);const o=document.createElement("img");o.classList.add("special-offer__img"),o.src=st,n.appendChild(o),r.appendChild(n)}this.main.appendChild(t)}}showAboutPage(){this.clearMain();const e=document.createElement("section");e.innerText="Not completed yet",this.main.appendChild(e)}async showCatalogPage(){this.clearMain();const e=document.createElement("section");e.classList.add("product__section");const t=this.products,n=await t.createProducts(),r=this.sorting,{sortBlock:s}=r,o=r.rightsideSortBlock;o?.appendChild(this.productContainer),n.forEach((e=>{this.productContainer.appendChild(e)})),s&&e.appendChild(s),this.main.appendChild(e)}showProductPage(){this.clearMain()}showDeliveryPage(){this.clearMain();const e=document.createElement("section");e.innerText="Not completed yet",this.main.appendChild(e)}showContactsPage(){this.clearMain();const e=document.createElement("section");e.innerText="Not completed yet",this.main.appendChild(e)}showSignInPage(){this.clearMain();const e=(new tt).getHtmlElement();this.main.appendChild(e)}showRegisterPage(){this.clearMain(),this.registration.draw(),this.registration.checkForm(),this.registration.addAddressListener()}show404Page(){this.clearMain();const e=document.createElement("section");e.classList.add("section__error");const t=`\n    <h1>4<img src="${ot}" alt="Clock" width="100">4</h1>\n    <p>The page you're looking for could not be found.</p>\n    <a href="#/">Return to Main Page</a>\n  `;e.innerHTML=t,this.main.appendChild(e)}showUserPage(){this.clearMain();const e=document.createElement("section");e.innerText="Not completed yet",this.main.appendChild(e)}createHeader(){this.header=document.createElement("header"),this.header.id="header",this.body?.appendChild(this.header);const e=document.createElement("div");e.classList.add("background"),e.classList.add("img-background"),this.header.appendChild(e);const t=document.createElement("div");t.classList.add("wrapper"),t.classList.add("header-wrapper"),e.appendChild(t);const s=document.createElement("div");s.classList.add("left-content"),s.textContent=n.title,t.appendChild(s);const o=document.createElement("div");o.classList.add("right-content"),t.appendChild(o);const i=document.createElement("div");i.classList.add("burger__menu");const a=document.createElement("div");a.classList.add("burger__menu-icon");const c=document.createElement("span");c.classList.add("burger__menu-line");const l=document.createElement("nav");l.classList.add("menu");const d=document.createElement("ul");d.classList.add("menu-list"),n.menuItems.forEach((e=>{const t=document.createElement("li");t.classList.add("menu-item"),t.textContent=e,d.appendChild(t)}));const u=document.createElement("li");u.classList.add("item-client"),u.classList.add("menu-item");const p=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div");p.classList.add("login"),m.classList.add("register"),"true"!==localStorage.getItem("isLoggedIn")?(p.textContent=n.login,m.textContent=n.register):(p.textContent=n.profile,m.textContent=n.logout),h.textContent="|",u.appendChild(p),u.appendChild(h),u.appendChild(m),d.appendChild(u);const f=document.createElement("li");f.classList.add("item-basket");const g=document.createElement("img"),b=document.createElement("div");b.classList.add("products__numbres"),b.innerHTML="0",g.src=r,f.appendChild(g),f.appendChild(b),d.appendChild(f);const y=document.createElement("div");return y.classList.add("burger__menu-overlay"),l.appendChild(d),a.appendChild(c),i.appendChild(a),i.appendChild(l),o.appendChild(i),o.appendChild(y),this.header}createMain(){return this.main=document.createElement("main"),this.main.id="main",this.body?.appendChild(this.main),this.main}clearMain(){this.main.innerHTML="",this.main.classList.add("light-background"),this.header.style.color="#100e0e";const e=document.querySelector(".burger__menu-icon");e?.classList.add("dark__color");const t=document.querySelector(".item-basket img"),n=document.querySelector(".item-basket div");t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAAAqo0jMgAAAAlwSFlzAAAAYAAAAGAA8GtCzwAAAAd0SU1FB+cIEQwlFORzB18AAAJxSURBVEjHrdVdaJZlHAbw317FNYX2SiGSm6U4sdwmrNxEMtkHQ/JAFEQpCoJUhGIyKkvQoJP8iHbgQWodxCKRDRHyAw/8OLCQdzpJ5e3DT8QNCicbHbTN1ubBe29sz/u806HXc3L/7+u+r/v6X/fD8/CEyMNm1SP1JXv8P1GBI1pcA5M0avP1RF3scjM8XSqcfpKGDnrDHZMmsmXs4mLFCrW79/gCk8dUKY1STvn3sR1vHzuR77qV9ocq6dcRJm1qGH2nLow2+JzEGIF+Pe6qDFWPwphTi3SEUZVUtAVS5prqBb1gwEz9Iauk/JBTr+lBYGvmPRiNd7ziRVW6wTydQWqh3w2CMlfBFAVKsg3Od0aDj0PVbHkkg2nSYabGD0Qz4Lo5LqoKVYeirAQ6RyeQncGQP/V7NSRdaJm/w8nV+lEmEbh6W+MESFnkno26UeylkNKz1hjAAgXWgsUui8WbDthrNXjN4UgGn9kEZjufIRIxDiqlQgodZkXYWSGDykwCcS3cVyBtm24klGQ69bxG/2GZPAtR6/vM8jzZ+NG3Wu0Y98MyqMU/8Q5os1i7n8ML8wjEOVjiI2mDjo2zb8gVA7kEnvGbtT6J5YZR6W2/5Gqhz1G7XRjX+cvD95frlKVZFxgN8bi+XA6gS6kuJzKLIqnVKdE+zCRit7+nxXNqpMyIMJMd975pvtSUW2C6T31glXxNvsiSvuGit3yjzNJc/b2uWbN1zqpxKcIdsMJfSqU12JLLwW3lfvKVpAI3I9wt5c45qVVFFjcKTQ6p964/lEaYQlc1qrXTmcw/Jdc1rlevyz63spikD5W4YL8HngYeAtrhmbzxuQ21AAAAAElFTkSuQmCC",n.style.border="2px solid rgb(16, 14, 14)"}createFooter(){this.footer=document.createElement("footer"),this.footer.id="footer",this.body?.appendChild(this.footer);const e=document.createElement("div");e.classList.add("background","dark-background"),this.footer.appendChild(e);const t=document.createElement("div");t.classList.add("wrapper"),t.classList.add("footer-wrapper"),e.appendChild(t);const r=document.createElement("div");r.classList.add("footer__contact");const s=document.createElement("div");s.innerText=n.footer.contactInfo.contactTitle,r.appendChild(s);const o=document.createElement("div");r.innerText=n.footer.contactInfo.contactContent,r.appendChild(o);const i=document.createElement("div");i.classList.add("footer__social");const a=document.createElement("div");a.innerText=n.footer.socialInfo.socialTitle;const c=document.createElement("a");c.href="https://www.instagram.com/your_favorite_antique_shop/?igshid=OGQ5ZDc2ODk2ZA%3D%3D";const l=document.createElement("img");l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARMSURBVEiJndVtiFVFHMfx78yZmXt3V13XTdk1H3KVdiFKqIT0nREoEliYJmpv8iG0XoQUhtGDFiQSBFlGBgaL0oOhWNnWK/F1vYii2Czc1d1V13Zd756HmXPuvef04uq69+6a2YHDcM6Lzzz9/jOCf3lc39JFnj+6hlitEE7NI/ZaRZiDsOGSiOouiLDuO0TjcbHjo3O3MsSk8OCSNhkW3pBxujGLjCdiA7FGhHkI6yptdL31TUrgfUNS95I4+N5ft+0g7lu0SRaLH+N0PdZwGxwCBYGBQIUU9GbRte+L8Z4c/1G+uPBVmSSdd4z7CnzdQKQ/yxbv2TXpDOK+9o0ysZ3ERt4xHujK62tcycui4eL65oE3vxzrwA0+tNALh36ZMPKoAVQHQt8DSQ7hNDgFzgPrQc8IdA9DwavgKOzVErYkg4D6jvb+nQMKQPqjb5Poetw4nHuRy96CafPg2iVISpAKKItK6xlonQm9V+Dl4zi/gLMCW5JYzJQS7AG2CNe3dJEK/u7OrPGEuzlyuewwxJas6wDiip24LKGBlrnwwuNkdTkK6zuJhmJsZnBoLKYcpXULpA5H11ThYR5UB0ybV42HGqbOhcY5EOWgvR0ObSd55wfEwrsotTSNx7FoL5HeapVatUI4Ub2hzZVlGcPrZsO2rTC9CaSEy9dg90mS545i/ywge0YozW7G/erfwHEYLGqVEs5bQOxVp2WqgTi5uSxbt8CPv8Onp8Hm4NmVpHufwG44grUZ+SChKFQNrrGYNolTMydE0ZnKZgYKci3Q2FjBfQUjEvf+GcT8GSStMwiDjBRBgqrFcei7lYjyEOarc+5UJSmBgaIHmajsga9wKGJhyAmBLZRwmSZFEuPV4lhMKkXUMDihiKwHZVkZcW8Alwuw4TGc1MQqj35xOUn3EH5viMWQIihen8E4HIu+qAhyvUS5tqoKdR5oc7NCd50g3b+W3Lol5JRH0jvC+c3fjq25bNDEmVeL4zDnlIjquwj1o1U5P1+A1lmQb4ZLFuf7xJuOUmxtwkYweraAzSoIrdOpb2tk5EJci2OFOiURjcfxTbmqiLqHKxX62tPEs5qIMdgwpfDzEKN/VOP3HVxOobvA4Flbm6JynHpfC4Bs544jjOqNVQfXjBayfU9ViqhnhLItkSLIEKQIRF5T3zaNQneB09t/YrCnWJuiT97tf3hbpYPNz88nzP+GrxvGTkUUDkNp1nTK82eSCI8ERYKiiCLJPIbPWQbPWqKyrsV9J2THB30PXhw7rrOVr6zF6s/xtXQonBVEQbm2/CeLYu3/LM70ugMDi7+qunDE9/uOcU3tdiUvs1dLRP7/wlOb6Z038EmvzJE5rz8ZYTotZsod4r4V5pkP+x44ecsrE6Cpf++JgPoOhz5kMaX/gKdWmGO2LO+vxSedwfjnzOzDcxPprY5QqyxmgUPPuY73x5ieUOhTSSpP7h94pP9Wxj82KZSHy0SXZwAAAABJRU5ErkJggg==",c.appendChild(l),i.appendChild(a),i.appendChild(c);const d=document.createElement("div");d.classList.add("footer__questions");const u=document.createElement("div");u.innerText=n.footer.questions.questionstitle;const p=document.createElement("a");return p.href="mailto:kruckovaviktoria421@gmail.com",p.textContent="kruckovaviktoria421@gmail.com",d.appendChild(u),d.appendChild(p),t.appendChild(i),t.appendChild(r),t.appendChild(d),this.footer}}class lt{menu;menuIcon;overlay;body;menuItems;constructor(){this.body=document.querySelector("body"),this.menuIcon=document.querySelector(".burger__menu-icon"),this.overlay=document.querySelector(".burger__menu-overlay"),this.menu=document.querySelector(".menu"),this.menuItems=document.querySelectorAll(".menu-item")}init(){this.menuIcon&&this.menuIcon.addEventListener("click",(()=>{this.toggleMenu()})),this.overlay&&this.overlay.addEventListener("click",(()=>{this.hideMenu()})),this.menuItems&&this.menuItems.forEach((e=>{e.addEventListener("click",(()=>{this.hideMenu()}))}))}toggleMenu(){document.body.classList.toggle("_lock"),this.menuIcon?.classList.toggle("_show"),this.menu?.classList.toggle("_show"),this.overlay?.classList.toggle("_show")}hideMenu(){this.overlay?.classList.remove("_show"),this.menu?.classList.remove("_show"),this.menuIcon?.classList.remove("_show"),document.body.classList.remove("_lock")}}(new class{routing;app;burger;constructor(){this.app=new ct,this.routing=new t(this.app),this.routing.init(),this.burger=new lt,this.burger.init(),this.init()}addProductsHandlers(){document.addEventListener("click",(e=>{e.stopPropagation(),e.target.classList.contains(".product-cart")&&this.routing.handleProductItemClick(e)}))}addMenuClickHandlers(){document.querySelectorAll(".menu-item").forEach(((e,t)=>{e.addEventListener("click",(e=>{e.stopPropagation(),this.routing.handleMenuItemClick(t,e)}))}))}displayFilteredResults(){this.app.productContainer.innerHTML="",this.app.products.filteredProductdivs.forEach((e=>{this.app.productContainer.appendChild(e)}))}checkCheckboxes(){const e=document.querySelectorAll(".checkbox"),t=Array.from(e).filter((e=>e.checked)).map((e=>e.value.toLowerCase()));0!==t.length&&(this.app.products.filteredProductdivs=this.app.products.filteredProductdivs.filter((e=>{const n=e.id,r=this.app.products.data.find((e=>e.id===n));if(r){const{attributes:e}=r.masterVariant,n=e.reduce(((e,t)=>(Array.isArray(t.value)?e.push(...t.value.map((e=>e.toLowerCase()))):e.push(t.value.toLowerCase()),e)),[]);return t.some((e=>n.includes(e)))}return!1})))}sortByPrice(e){const t=e=>{if(!e)return 0;const t=e.querySelector(".discounted-price"),n=e.querySelector(".product__price");let r="";return t?r=t.textContent||"":n&&(r=n.textContent||""),r=r.replace("$",""),r=r.trim()||"0",parseFloat(r)};return this.app.products.filteredProductdivs.sort(((n,r)=>{const s=t(n),o=t(r);return"Price: Low to High"===e?s-o:"Price: High to Low"===e?o-s:0})),this.app.products.filteredProductdivs}sortByName(e){return this.app.products.filteredProductdivs.sort(((t,n)=>{const r=t.querySelector(".product__title"),s=r?r.textContent.toLowerCase():"",o=n.querySelector(".product__title"),i=o?o.textContent.toLowerCase():"";return"Name: A to Z"===e?s.localeCompare(i):"Name: Z to A"===e?i.localeCompare(s):0})),this.app.products.filteredProductdivs}updateFiltersAndSearch(){const e=this.app.sorting.categoryDropdown?.value,t=this.app.sorting.searchInput.value.toLowerCase().trim();console.log(this.app.sorting.searchInput),console.log(t);const n=this.app.sorting.priceSortDropdown?.value,r=this.app.sorting.nameSortDropdown?.value;this.app.products.filteredProductdivs=this.filterByCategory(e),this.filterBySearchText(t),this.filterBySearchText(t),this.checkCheckboxes(),this.sortByPrice(n),this.sortByName(r),this.displayFilteredResults()}filterByCategory(e){let t=[];return t="all products"===e?this.app.products.productDivs:this.app.products.productDivs.filter((t=>t.getAttribute("data-category")===this.getCategoryIdByCategoryName(e))),t}filterBySearchText(e){this.app.products.filteredProductdivs=this.app.products.filteredProductdivs.filter((t=>{const n=t.id,r=this.app.products.data.find((e=>e.id===n));return!!r&&r.name["en-US"].split(" ").map((e=>e.toLowerCase())).some((t=>t.includes(e)))}))}getCategoryIdByCategoryName(e){switch(e){case"dishes":return"eb65d601-d77d-48fa-a7fa-7f5ef0d39454";case"paintings":return"b92cb37a-12a1-4fae-8c47-496f4540603c";case"jewellery":return"12b137e5-341a-4d73-8fb5-ae453c745db4";case"coins":return"9a31e44b-6f15-4f3c-a633-0d4ebc2ae444";default:return""}}addCheckboxesHandlers(){const e=this.app.sorting.leftsideSortBlock?.querySelector(".filters__container"),t=e?.querySelectorAll(".checkbox");t?.forEach((e=>{e.addEventListener("change",(()=>{this.updateFiltersAndSearch()}))}))}addPriceSortListener(){this.app.sorting.priceSortDropdown?.addEventListener("change",(()=>{this.updateFiltersAndSearch()}))}addNameSortListener(){this.app.sorting.nameSortDropdown?.addEventListener("change",(()=>{this.updateFiltersAndSearch()}))}addSortingHandlers(){this.app.sorting.categoryDropdown?.addEventListener("change",(()=>{const e=this.app.sorting.categoryDropdown?.value;this.app.sorting.createFilters(e),this.addCheckboxesHandlers()}))}addSearchHandlers(){this.app.sorting.searchInput.addEventListener("input",(()=>{this.updateFiltersAndSearch()}))}addProductsClick(){this.app.products.filteredProductdivs.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),this.routing.handleProductItemClick(e)}))}))}allHandlers(){this.addProductsClick(),this.addSearchHandlers(),this.addSortingHandlers(),this.addPriceSortListener(),this.addNameSortListener(),this.addCheckboxesHandlers()}init(){this.addProductsHandlers(),this.addMenuClickHandlers(),this.allHandlers()}}).init()})();